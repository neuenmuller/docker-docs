<!-- Page generated 2021-11-17 12:37:13 +0000-->
<!DOCTYPE html>
<html lang="en"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-WL2QLG5');</script>
<title>Vulnerability scanning for Docker local images | Docker Documentation</title>
  <meta name="description" content="Vulnerability scanning for Docker local images" />
  <meta name="keywords" content="Docker, scan, Snyk, images, local, CVE, vulnerability, security">
  <link rel="canonical" href="https://docs.docker.com/engine/scan/" />

  <!-- favicon -->
  <link rel="icon" type="image/x-icon" href="/favicons/docs@2x.ico" sizes="129x128">
  <link rel="apple-touch-icon" type="image/x-icon" href="/favicons/docs@2x.ico" sizes="129x128">
  <meta name="msapplication-TileImage" content="/favicons/docs@2x.ico">
  <meta property="og:image" content="/favicons/docs@2x.ico"/>
  <meta name="theme-color" content="#2496ed" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- hide elements that are only shown without JavaScript enabled -->
  <script>document.documentElement.classList.add('js')</script>
  <style>html.js .no-js { display: none !important; }</style><script defer src="/js/theme-switcher.js"></script>
  <script defer src="/js/anchorlinks.js"></script>
  <script defer src="/js/jquery.js"></script>
  <script defer src="/js/bootstrap.min.js"></script>
  <script defer src="/js/docs.js"></script><script defer src="/js/search.js"></script><link rel="preload" as="font" href="https://fonts.gstatic.com/s/opensans/v18/mem8YaGs126MiZpBA-UFVZ0bf8pkAg.woff2" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/fonts/geomanist/hinted-Geomanist-Book.woff2"    type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/fonts/geomanist/hinted-Geomanist-Regular.woff2" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/fonts/glyphicons-halflings-regular.woff2"       type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/fonts/fontawesome-webfont.woff2?v=4.7.0"        type="font/woff2" crossorigin="anonymous">

  <link rel="stylesheet" href="/css/font-awesome.min.css">
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/style.css" id="pagestyle">

  <!-- SEO stuff -->
  <meta name="twitter:title" itemprop="title name" content="Vulnerability scanning for Docker local images"/>
  <meta name="twitter:description" property="og:description" itemprop="description" content="" />
  <meta name="twitter:card" content="summary_large_image"/>
  <meta name="twitter:domain" content="docs.docker.com"/>
  <meta name="twitter:site" content="@docker_docs"/>
  <meta name="twitter:url" content="https://twitter.com/docker_docs"/>
  <meta name="twitter:image:src" content="https://docs.docker.com/images/docs@2x.png"/>
  <meta name="twitter:image:alt" content="Docker Documentation"/>
  <meta property="og:title" content="Vulnerability scanning for Docker local images" />
  <meta property="og:description" content="Vulnerability scanning for Docker local images" />
  <meta property="og:type" content="website"/>
  <meta property="og:updated_time" itemprop="dateUpdated" content="2021-11-17T12:37:13+00:00"/>
  <meta property="og:image" itemprop="image primaryImageOfPage" content="https://docs.docker.com/images/docs@2x.png"/>
  <meta property="og:locale" content="en_US" />
  <meta property="og:url" content="https://docs.docker.com/engine/scan/" />
  <meta property="og:site_name" content="Docker Documentation" />
  <meta property="article:published_time" itemprop="datePublished" content="2021-11-17T12:37:13+00:00"/>
  <script type="application/ld+json">{"@context":"http://schema.org","@type":"WebPage","headline":"Vulnerability scanning for Docker local images","description":"Vulnerability scanning for Docker local images","url":"https://docs.docker.com/engine/scan/"}</script>
  <!-- END SEO STUFF -->
</head>
<body class="colums">
    <header>
        <nav class="nav-secondary navbar navbar-fixed-top">
    <div class="container-fluid">
        <div class="navbar-header">
            <a href="/">
                <img class="logo" src="/images/docker-docs-logo.svg" alt="Docker Docs" title="Docker Docs" width="160" height="28" />
            </a>
        </div>
        <div class="navbar-collapse" aria-expanded="false" style="height: 1px;">
            <div class="logo-mobile">
    <a href="/">
        <img src="/images/docker-icon.svg" alt="Docker Docs" title="Docker Docs" width="30" height="30" />
    </a>
</div>
<div class="search-form" id="search-div">
    <form class="search-form form-inline" id="searchForm" action="/search/" method="get">
        <label for="st-search-input" class="sr-only">Search</label>
        <input class="search-field form-control ds-input" id="st-search-input" name="q" placeholder="Search the docs" type="search" autocomplete="off" spellcheck="false" dir="auto" style="position: relative; vertical-align: top;">
        <div id="autocompleteResults"></div>
        <!-- <button type="submit" class="search-submit btn btn-default">Search</button> -->
    </form>
</div>
<div class="sidebar-toggle">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
    </button>
</div>
<div class="nav-container hidden-sm hidden-xs">
    <div>
        <ul class="nav navbar-nav"><li><a href="/" id="home">Home</a></li><li><a href="/get-started/overview/" id="guides">Guides</a></li><li><a href="/desktop/" id="manuals">Manuals</a></li><li><a href="/reference/" id="reference">Reference</a></li><li><a href="/samples/" id="samples">Samples</a></li></ul>
    </div>
    <div class="ctrl-right">
        <a href="javascript:void(0)" id="menu-toggle" aria-label="Current page's menu toggle"><i class="fa fa-indent" aria-hidden="true"></i></a>
    </div>
</div>
<div class="row hidden-sm hidden-xs">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li><a href="/" title="Docker docs homepage"><i class="fa fa-home"></i></a></li>
            <li><a href="/desktop/">Manuals</a></li><li><a href="/engine/">Docker Engine</a></li><li><a href="/engine/scan/">Docker Scan</a></li></ol>
    </nav>
</div></div>
    </div>
</nav>

    </header>
    <div class="wrapper right-open">
        <div class="container-fluid">
            <div class="row">
                <div class="col-body">
                    <main class="col-content content">
                        <section class="section"><h1>Vulnerability scanning for Docker local images</h1><p><em class="reading-time">Estimated reading time: 12 minutes</em></p><blockquote>
  <p>Looking to speed up your development cycles? Quickly detect and learn how to remediate CVEs in your images by running <code class="highlighter-rouge">docker scan IMAGE_NAME</code>. Check out <a href="#how-to-scan-images">How to scan images</a> for details.</p>
</blockquote>

<p>Vulnerability scanning for Docker local images  allows developers and development teams to review the security state of the container images and take actions to fix issues identified during the scan, resulting in more secure deployments. Docker Scan runs on Snyk engine, providing users with visibility into the security posture of their local Dockerfiles and local images.</p>

<p>Users trigger vulnerability scans through the CLI, and use the CLI to view the scan results. The scan results contain a list of Common Vulnerabilities and Exposures (CVEs), the sources, such as OS packages and libraries, versions in which they were introduced, and a recommended fixed version (if available) to remediate the CVEs discovered.</p>

<p>For information about the system requirements to run vulnerability scanning, see <a href="#prerequisites">Prerequisites</a>.</p>

<p>This page contains information about the <code class="highlighter-rouge">docker scan</code> CLI command. For information about automatically scanning Docker images through Docker Hub, see <a href="/docker-hub/vulnerability-scanning/">Hub Vulnerability Scanning</a>.</p>

<h2 id="how-to-scan-images">How to scan images</h2>

<p>The <code class="highlighter-rouge">docker scan</code> command allows you to scan existing Docker images using the image name or ID.  For example, run the following command to scan the hello-world image:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker scan hello-world
<span class="go">
Testing hello-world...

Organization:      docker-desktop-test
Package manager:   linux
Project name:      docker-image|hello-world
Docker image:      hello-world
Licenses:          enabled

✓ Tested 0 dependencies for known issues, no vulnerable paths found.

Note that we do not currently have vulnerability data for your image.
</span></code></pre></div></div>

<h3 id="get-a-detailed-scan-report">Get a detailed scan report</h3>

<p>You can get a detailed scan report about a Docker image by providing the Dockerfile used to create the image. The syntax is <code class="highlighter-rouge">docker scan --file PATH_TO_DOCKERFILE DOCKER_IMAGE</code>.</p>

<p>For example, if you apply the option to the <code class="highlighter-rouge">docker-scan</code> test image, it displays the following result:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker scan <span class="nt">--file</span> Dockerfile docker-scan:e2e
<span class="go">Testing docker-scan:e2e
</span><span class="c">...
</span><span class="go">✗ High severity vulnerability found in perl
  Description: Integer Overflow or Wraparound
  Info: https://snyk.io/vuln/SNYK-DEBIAN10-PERL-570802
  Introduced through: git@1:2.20.1-2+deb10u3, meta-common-packages@meta
</span><span class="gp">  From: git@1:2.20.1-2+deb10u3 &gt;</span> perl@5.28.1-6
<span class="gp">  From: git@1:2.20.1-2+deb10u3 &gt;</span> liberror-perl@0.17027-2 <span class="o">&gt;</span> perl@5.28.1-6
<span class="gp">  From: git@1:2.20.1-2+deb10u3 &gt;</span> perl@5.28.1-6 <span class="o">&gt;</span> perl/perl-modules-5.28@5.28.1-6
<span class="go">  and 3 more...
  Introduced by your base image (golang:1.14.6)

Organization:      docker-desktop-test
Package manager:   deb
Target file:       Dockerfile
Project name:      docker-image|99138c65ebc7
Docker image:      99138c65ebc7
Base image:        golang:1.14.6
Licenses:          enabled

Tested 200 dependencies for known issues, found 157 issues.

According to our scan, you are currently using the most secure version of the selected base image
</span></code></pre></div></div>

<h3 id="excluding-the-base-image">Excluding the base image</h3>

<p>When using docker scan with the <code class="highlighter-rouge">--file</code> flag, you can also add the <code class="highlighter-rouge">--exclude-base</code> tag. This excludes the base image (specified in the Dockerfile using the <code class="highlighter-rouge">FROM</code> directive) vulnerabilities from your report. For example:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker scan <span class="nt">--file</span> Dockerfile <span class="nt">--exclude-base</span> docker-scan:e2e
<span class="go">Testing docker-scan:e2e
</span><span class="c">...
</span><span class="go">✗ Medium severity vulnerability found in libidn2/libidn2-0
  Description: Improper Input Validation
  Info: https://snyk.io/vuln/SNYK-DEBIAN10-LIBIDN2-474100
  Introduced through: iputils/iputils-ping@3:20180629-2+deb10u1, wget@1.20.1-1.1, curl@7.64.0-4+deb10u1, git@1:2.20.1-2+deb10u3
</span><span class="gp">  From: iputils/iputils-ping@3:20180629-2+deb10u1 &gt;</span> libidn2/libidn2-0@2.0.5-1+deb10u1
<span class="gp">  From: wget@1.20.1-1.1 &gt;</span> libidn2/libidn2-0@2.0.5-1+deb10u1
<span class="gp">  From: curl@7.64.0-4+deb10u1 &gt;</span> curl/libcurl4@7.64.0-4+deb10u1 <span class="o">&gt;</span> libidn2/libidn2-0@2.0.5-1+deb10u1
<span class="go">  and 3 more...
  Introduced in your Dockerfile by 'RUN apk add -U --no-cache wget tar'



Organization:      docker-desktop-test
Package manager:   deb
Target file:       Dockerfile
Project name:      docker-image|99138c65ebc7
Docker image:      99138c65ebc7
Base image:        golang:1.14.6
Licenses:          enabled

Tested 200 dependencies for known issues, found 16 issues.
</span></code></pre></div></div>

<h3 id="viewing-the-json-output">Viewing the JSON output</h3>

<p>You can also display the scan result as a JSON output by adding the <code class="highlighter-rouge">--json</code> flag to the command. For example:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker scan <span class="nt">--json</span> hello-world
<span class="go">{
  "vulnerabilities": [],
  "ok": true,
  "dependencyCount": 0,
  "org": "docker-desktop-test",
</span><span class="gp">  "policy": "#</span> Snyk <span class="o">(</span>https://snyk.io<span class="o">)</span> policy file, patches or ignores known vulnerabilities.<span class="se">\n</span>version: v1.19.0<span class="se">\n</span>ignore: <span class="o">{}</span><span class="se">\n</span>patch: <span class="o">{}</span><span class="se">\n</span><span class="s2">",
</span><span class="go">  "isPrivate": true,
  "licensesPolicy": {
    "severities": {},
    "orgLicenseRules": {
      "AGPL-1.0": {
        "licenseType": "AGPL-1.0",
        "severity": "high",
        "instructions": ""
      },
</span><span class="c">      ...
</span><span class="go">      "SimPL-2.0": {
        "licenseType": "SimPL-2.0",
        "severity": "high",
        "instructions": ""
      }
    }
  },
  "packageManager": "linux",
  "ignoreSettings": null,
  "docker": {
    "baseImageRemediation": {
      "code": "SCRATCH_BASE_IMAGE",
      "advice": [
        {
          "message": "Note that we do not currently have vulnerability data for your image.",
          "bold": true,
          "color": "yellow"
        }
      ]
    },
    "binariesVulns": {
      "issuesData": {},
      "affectedPkgs": {}
    }
  },
  "summary": "No known vulnerabilities",
  "filesystemPolicy": false,
  "uniqueCount": 0,
  "projectName": "docker-image|hello-world",
  "path": "hello-world"
}
</span></code></pre></div></div>

<p>In addition to the <code class="highlighter-rouge">--json</code> flag, you can also use the <code class="highlighter-rouge">--group-issues</code> flag to display a vulnerability only once in the scan report:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker scan <span class="nt">--json</span> <span class="nt">--group-issues</span> docker-scan:e2e
<span class="go">{
    {
      "title": "Improper Check for Dropped Privileges",
</span><span class="c">      ...
</span><span class="go">      "packageName": "bash",
      "language": "linux",
      "packageManager": "debian:10",
</span><span class="gp">      "description": "#</span><span class="c"># Overview\nAn issue was discovered in disable_priv_mode in shell.c in GNU Bash through 5.0 patch 11. By default, if Bash is run with its effective UID not equal to its real UID, it will drop privileges by setting its effective UID to its real UID. However, it does so incorrectly. On Linux and other systems that support \"saved UID\" functionality, the saved UID is not dropped. An attacker with command execution in the shell can use \"enable -f\" for runtime loading of a new builtin, which can be a shared object that calls setuid() and therefore regains privileges. However, binaries running with an effective UID of 0 are unaffected.\n\n## References\n- [CONFIRM](https://security.netapp.com/advisory/ntap-20200430-0003/)\n- [Debian Security Tracker](https://security-tracker.debian.org/tracker/CVE-2019-18276)\n- [GitHub Commit](https://github.com/bminor/bash/commit/951bdaad7a18cc0dc1036bba86b18b90874d39ff)\n- [MISC](http://packetstormsecurity.com/files/155498/Bash-5.0-Patch-11-Privilege-Escalation.html)\n- [MISC](https://www.youtube.com/watch?v=-wGtxJ8opa8)\n- [Ubuntu CVE Tracker](http://people.ubuntu.com/~ubuntu-security/cve/CVE-2019-18276)\n",</span>
<span class="go">      "identifiers": {
        "ALTERNATIVE": [],
        "CVE": [
          "CVE-2019-18276"
        ],
        "CWE": [
          "CWE-273"
        ]
      },
      "severity": "low",
      "severityWithCritical": "low",
      "cvssScore": 7.8,
      "CVSSv3": "CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H/E:F",
</span><span class="c">      ...
</span><span class="go">      "from": [
        "docker-image|docker-scan@e2e",
        "bash@5.0-4"
      ],
      "upgradePath": [],
      "isUpgradable": false,
      "isPatchable": false,
      "name": "bash",
      "version": "5.0-4"
    },
</span><span class="c">    ...
</span><span class="go">    "summary": "880 vulnerable dependency paths",
      "filesystemPolicy": false,
      "filtered": {
        "ignore": [],
        "patch": []
      },
      "uniqueCount": 158,
      "projectName": "docker-image|docker-scan",
      "platform": "linux/amd64",
      "path": "docker-scan:e2e"
}
</span></code></pre></div></div>

<p>You can find all the sources of the vulnerability in the <code class="highlighter-rouge">from</code> section.</p>

<h3 id="checking-the-dependency-tree">Checking the dependency tree</h3>

<p>To view the dependency tree of your image, use the --dependency-tree flag. This displays all the dependencies before the scan result. For example:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker scan <span class="nt">--dependency-tree</span> debian:buster
<span class="go">
</span><span class="gp">$</span> docker-image|99138c65ebc7 @ latest
<span class="go">     ├─ ca-certificates @ 20200601~deb10u1
     │  └─ openssl @ 1.1.1d-0+deb10u3
     │     └─ openssl/libssl1.1 @ 1.1.1d-0+deb10u3
     ├─ curl @ 7.64.0-4+deb10u1
     │  └─ curl/libcurl4 @ 7.64.0-4+deb10u1
     │     ├─ e2fsprogs/libcom-err2 @ 1.44.5-1+deb10u3
     │     ├─ krb5/libgssapi-krb5-2 @ 1.17-3
     │     │  ├─ e2fsprogs/libcom-err2 @ 1.44.5-1+deb10u3
     │     │  ├─ krb5/libk5crypto3 @ 1.17-3
     │     │  │  └─ krb5/libkrb5support0 @ 1.17-3
     │     │  ├─ krb5/libkrb5-3 @ 1.17-3
     │     │  │  ├─ e2fsprogs/libcom-err2 @ 1.44.5-1+deb10u3
     │     │  │  ├─ krb5/libk5crypto3 @ 1.17-3
     │     │  │  ├─ krb5/libkrb5support0 @ 1.17-3
     │     │  │  └─ openssl/libssl1.1 @ 1.1.1d-0+deb10u3
     │     │  └─ krb5/libkrb5support0 @ 1.17-3
     │     ├─ libidn2/libidn2-0 @ 2.0.5-1+deb10u1
     │     │  └─ libunistring/libunistring2 @ 0.9.10-1
     │     ├─ krb5/libk5crypto3 @ 1.17-3
     │     ├─ krb5/libkrb5-3 @ 1.17-3
     │     ├─ openldap/libldap-2.4-2 @ 2.4.47+dfsg-3+deb10u2
     │     │  ├─ gnutls28/libgnutls30 @ 3.6.7-4+deb10u4
     │     │  │  ├─ nettle/libhogweed4 @ 3.4.1-1
     │     │  │  │  └─ nettle/libnettle6 @ 3.4.1-1
     │     │  │  ├─ libidn2/libidn2-0 @ 2.0.5-1+deb10u1
     │     │  │  ├─ nettle/libnettle6 @ 3.4.1-1
     │     │  │  ├─ p11-kit/libp11-kit0 @ 0.23.15-2
     │     │  │  │  └─ libffi/libffi6 @ 3.2.1-9
     │     │  │  ├─ libtasn1-6 @ 4.13-3
     │     │  │  └─ libunistring/libunistring2 @ 0.9.10-1
     │     │  ├─ cyrus-sasl2/libsasl2-2 @ 2.1.27+dfsg-1+deb10u1
     │     │  │  └─ cyrus-sasl2/libsasl2-modules-db @ 2.1.27+dfsg-1+deb10u1
     │     │  │     └─ db5.3/libdb5.3 @ 5.3.28+dfsg1-0.5
     │     │  └─ openldap/libldap-common @ 2.4.47+dfsg-3+deb10u2
     │     ├─ nghttp2/libnghttp2-14 @ 1.36.0-2+deb10u1
     │     ├─ libpsl/libpsl5 @ 0.20.2-2
     │     │  ├─ libidn2/libidn2-0 @ 2.0.5-1+deb10u1
     │     │  └─ libunistring/libunistring2 @ 0.9.10-1
     │     ├─ rtmpdump/librtmp1 @ 2.4+20151223.gitfa8646d.1-2
     │     │  ├─ gnutls28/libgnutls30 @ 3.6.7-4+deb10u4
     │     │  ├─ nettle/libhogweed4 @ 3.4.1-1
     │     │  └─ nettle/libnettle6 @ 3.4.1-1
     │     ├─ libssh2/libssh2-1 @ 1.8.0-2.1
     │     │  └─ libgcrypt20 @ 1.8.4-5
     │     └─ openssl/libssl1.1 @ 1.1.1d-0+deb10u3
     ├─ gnupg2/dirmngr @ 2.2.12-1+deb10u1
</span><span class="c">    ...
</span><span class="go">
Organization:      docker-desktop-test
Package manager:   deb
Project name:      docker-image|99138c65ebc7
Docker image:      99138c65ebc7
Licenses:          enabled

Tested 200 dependencies for known issues, found 157 issues.

For more free scans that keep your images secure, sign up to Snyk at https://dockr.ly/3ePqVcp.
</span></code></pre></div></div>

<p>For more information about the vulnerability data, see <a href="https://goto.docker.com/rs/929-FJL-178/images/cheat-sheet-docker-desktop-vulnerability-scanning-CLI.pdf" target="_blank" rel="noopener" class="_">Docker Vulnerability Scanning CLI Cheat Sheet</a>.</p>

<h3 id="limiting-the-level-of-vulnerabilities-displayed">Limiting the level of vulnerabilities displayed</h3>

<p>Docker scan allows you to choose the level of vulnerabilities displayed in your scan report using the <code class="highlighter-rouge">--severity</code> flag.
You can set the severity flag to <code class="highlighter-rouge">low</code>, <code class="highlighter-rouge">medium</code>, or<code class="highlighter-rouge"> high</code> depending on the level of vulnerabilities you’d like to see in your report.<br />
For example, if you set the severity level as <code class="highlighter-rouge">medium</code>, the scan report displays all vulnerabilities that are classified as medium and high.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker scan <span class="nt">--severity</span><span class="o">=</span>medium docker-scan:e2e 
<span class="go">./bin/docker-scan_darwin_amd64 scan --severity=medium docker-scan:e2e

Testing docker-scan:e2e...

✗ Medium severity vulnerability found in sqlite3/libsqlite3-0
  Description: Divide By Zero
  Info: https://snyk.io/vuln/SNYK-DEBIAN10-SQLITE3-466337
  Introduced through: gnupg2/gnupg@2.2.12-1+deb10u1, subversion@1.10.4-1+deb10u1, mercurial@4.8.2-1+deb10u1
</span><span class="gp">  From: gnupg2/gnupg@2.2.12-1+deb10u1 &gt;</span> gnupg2/gpg@2.2.12-1+deb10u1 <span class="o">&gt;</span> sqlite3/libsqlite3-0@3.27.2-3
<span class="gp">  From: subversion@1.10.4-1+deb10u1 &gt;</span> subversion/libsvn1@1.10.4-1+deb10u1 <span class="o">&gt;</span> sqlite3/libsqlite3-0@3.27.2-3
<span class="gp">  From: mercurial@4.8.2-1+deb10u1 &gt;</span> python-defaults/python@2.7.16-1 <span class="o">&gt;</span> python2.7@2.7.16-2+deb10u1 <span class="o">&gt;</span> python2.7/libpython2.7-stdlib@2.7.16-2+deb10u1 <span class="o">&gt;</span> sqlite3/libsqlite3-0@3.27.2-3
<span class="go">
✗ Medium severity vulnerability found in sqlite3/libsqlite3-0
  Description: Uncontrolled Recursion
</span><span class="c">...
</span><span class="go">✗ High severity vulnerability found in binutils/binutils-common
  Description: Missing Release of Resource after Effective Lifetime
  Info: https://snyk.io/vuln/SNYK-DEBIAN10-BINUTILS-403318
  Introduced through: gcc-defaults/g++@4:8.3.0-1
</span><span class="gp">  From: gcc-defaults/g++@4:8.3.0-1 &gt;</span> gcc-defaults/gcc@4:8.3.0-1 <span class="o">&gt;</span> gcc-8@8.3.0-6 <span class="o">&gt;</span> binutils@2.31.1-16 <span class="o">&gt;</span> binutils/binutils-common@2.31.1-16
<span class="gp">  From: gcc-defaults/g++@4:8.3.0-1 &gt;</span> gcc-defaults/gcc@4:8.3.0-1 <span class="o">&gt;</span> gcc-8@8.3.0-6 <span class="o">&gt;</span> binutils@2.31.1-16 <span class="o">&gt;</span> binutils/libbinutils@2.31.1-16 <span class="o">&gt;</span> binutils/binutils-common@2.31.1-16
<span class="gp">  From: gcc-defaults/g++@4:8.3.0-1 &gt;</span> gcc-defaults/gcc@4:8.3.0-1 <span class="o">&gt;</span> gcc-8@8.3.0-6 <span class="o">&gt;</span> binutils@2.31.1-16 <span class="o">&gt;</span> binutils/binutils-x86-64-linux-gnu@2.31.1-16 <span class="o">&gt;</span> binutils/binutils-common@2.31.1-16
<span class="go">  and 4 more...

Organization:      docker-desktop-test
Package manager:   deb
Project name:      docker-image|docker-scan
Docker image:      docker-scan:e2e
Platform:          linux/amd64
Licenses:          enabled

Tested 200 dependencies for known issues, found 37 issues.
</span></code></pre></div></div>

<h2 id="provider-authentication">Provider authentication</h2>

<p>If you have an existing Snyk account, you can directly use your Snyk <a href="https://app.snyk.io/account" target="_blank" rel="noopener" class="_">API token</a>:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker scan <span class="nt">--login</span> <span class="nt">--token</span> SNYK_AUTH_TOKEN
<span class="go">
Your account has been authenticated. Snyk is now ready to be used.
</span></code></pre></div></div>

<p>If you use the <code class="highlighter-rouge">--login</code> flag without any token, you will be redirected to the Snyk website to login.</p>

<h2 id="prerequisites">Prerequisites</h2>

<p>To run vulnerability scanning on your Docker images, you must meet the following requirements:</p>

<ol>
  <li>
    <p>Download and install Docker Desktop Edge version 2.3.6.0 or later.</p>

    <ul>
      <li><a href="https://desktop.docker.com/mac/edge/Docker.dmg" target="_blank" rel="noopener" class="_">Download for Mac</a></li>
      <li><a href="https://desktop.docker.com/win/edge/Docker%20Desktop%20Installer.exe" target="_blank" rel="noopener" class="_">Download for Windows</a></li>
    </ul>
  </li>
  <li>
    <p>Sign into <a href="https://hub.docker.com" target="_blank" rel="noopener" class="_">Docker Hub</a>.</p>
  </li>
  <li>
    <p>From the Docker Desktop menu, select <strong>Sign in/ Create Docker ID</strong>. Alternatively, open a terminal and run the command <code class="highlighter-rouge">docker login</code>.</p>
  </li>
  <li>
    <p>(Optional) You can create a <a href="https://dockr.ly/3ePqVcp" target="_blank" rel="noopener" class="_">Snyk account</a> for scans, or use the additional monthly free scans provided by Snyk with your Docker Hub account.</p>
  </li>
</ol>

<p>Check your installation by running <code class="highlighter-rouge">docker scan --version</code>, it should print the current version of docker scan and the Snyk engine version. For example:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker scan <span class="nt">--version</span>
<span class="go">Version:    v0.5.0
Git commit: 5a09266
Provider:   Snyk (1.432.0)
</span></code></pre></div></div>

<blockquote>
  <p><strong>Note:</strong></p>

  <p>Docker Scan uses the Snyk binary installed in your environment by default. If 
this is not available, it uses the Snyk binary embedded in Docker Desktop.
The minimum version required for Snyk is <code class="highlighter-rouge">1.385.0</code>.</p>
</blockquote>

<h2 id="supported-options">Supported options</h2>

<p>The high-level <code class="highlighter-rouge">docker scan</code> command scans local images using the image name or the image ID. It supports the following options:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Option</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">--accept-license</code></td>
      <td style="text-align: left">Accept the license agreement of the third-party scanning provider</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">--dependency-tree</code></td>
      <td style="text-align: left">Display the dependency tree of the image along with scan results</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">--exclude-base</code></td>
      <td style="text-align: left">Exclude the base image during scanning. This option requires the --file option to be set</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">-f</code>, <code class="highlighter-rouge">--file string</code></td>
      <td style="text-align: left">Specify the location of the Dockerfile associated with the image. This option displays a detailed scan result</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">--json</code></td>
      <td style="text-align: left">Display the result of the scan in JSON format</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">--login</code></td>
      <td style="text-align: left">Log into Snyk using an optional token (using the flag --token), or by using a web-based token</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">--reject-license</code></td>
      <td style="text-align: left">Reject the license agreement of the third-party scanning provider</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">--severity string</code></td>
      <td style="text-align: left">Only report vulnerabilities of provided level or higher (low, medium, high)</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">--token string</code></td>
      <td style="text-align: left">Use the authentication token to log into the third-party scanning provider</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">--version</code></td>
      <td style="text-align: left">Display the Docker Scan plugin version</td>
    </tr>
  </tbody>
</table>

<h2 id="known-issues">Known issues</h2>

<p><strong>WSL 2</strong></p>

<ul>
  <li>The Vulnerability scanning feature doesn’t work with Alpine distributions.</li>
  <li>If you are using Debian and OpenSUSE distributions, the login process only works with the <code class="highlighter-rouge">--token</code> flag, you won’t be redirected to the Snyk website for authentication.</li>
</ul>

<h2 id="feedback">Feedback</h2>

<p>Your feedback is very important to us. Let us know your feedback by creating an issue in the <a href="https://github.com/docker/scan-cli-plugin/issues/new" target="_blank" rel="noopener" class="_">scan-cli-plugin</a> GitHub repository.</p>
<span class="glyphicon glyphicon-tags" style="padding-right: 10px"></span><span style="vertical-align: 2px"><a href="/search/?q=Docker">Docker</a>, <a href="/search/?q=scan">scan</a>, <a href="/search/?q=Snyk">Snyk</a>, <a href="/search/?q=images">images</a>, <a href="/search/?q=local">local</a>, <a href="/search/?q=CVE">CVE</a>, <a href="/search/?q=vulnerability">vulnerability</a>, <a href="/search/?q=security">security</a></span><div class="ratings-div"><div id="pd_rating_holder_8453675"></div></div></section>
                    </main>
                    <nav class="col-nav">
                        <div id="sidebar-nav" class="sidebar hidden-sm hidden-xs">
                            <div id="navbar" class="nav-sidebar">
                                <ul class="nav hidden-md hidden-lg"></ul>
                                <ul class="nav" id="jsTOCLeftNav"></ul>
                            </div>
                        </div>
                    </nav>
                    <div class="col-toc">
                        <div class="sidebar hidden-xs hidden-sm">
                            <div class="toc-nav">
                                <div class="feedback-links">
                                    <ul><li><a href="https://github.com/docker/docker.github.io/edit/master/engine/scan/index.md"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> Edit this page</a></li><li><a href="https://github.com/docker/docker.github.io/issues/new?body=File: [engine/scan/index.md](https://docs.docker.com/engine/scan/)" class="nomunge"><i class="fa fa-check" aria-hidden="true"></i> Request docs changes</a></li>
                                        <li><div class="toggle-mode">
  <div class="icon">
      <i class="fa fa-sun-o" aria-hidden="true"></i>
  </div>
  <div class="toggle-switch">
      <label class="switch">
          <input type="checkbox" id="switch-style">
          <span class="slider round"></span>
      </label>
  </div>
  <div class="icon">
      <i class="fa fa-moon-o" aria-hidden="true"></i>
  </div>
</div>
</li>
                                    </ul>
                                </div><div id="side-toc-title">On this page:</div>
<ul id="my_toc" class="inline_toc">
  <li><a href="#how-to-scan-images" class="nomunge">How to scan images</a>
    <ul>
      <li><a href="#provider-authentication" class="nomunge">Provider authentication</a></li>
      <li><a href="#prerequisites" class="nomunge">Prerequisites</a></li>
      <li><a href="#supported-options" class="nomunge">Supported options</a></li>
      <li><a href="#known-issues" class="nomunge">Known issues</a></li>
      <li><a href="#feedback" class="nomunge">Feedback</a></li>
    </ul>
  </li>
</ul>

</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer class="footer">
          
    <div class="container">
        <div class="top_footer">
            <div class="row">
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/why-docker">Why Docker?</a></b></li>
                        <li><a href="https://www.docker.com/what-container">What is a Container?</a></li>
                        <li><a href="https://docker.events.cube365.net/dockercon/">DockerCon</a></li>
                        <li><b><a href="https://www.docker.com/products/overview">Products</a></b></li>
                        <li><a href="https://www.docker.com/products/docker-desktop">Docker Desktop</a></li>
                        <li><a href="https://www.docker.com/products/docker-hub">Docker Hub</a></li>
                        <li><a href="https://www.docker.com/roadmap">Docker Product Roadmap</a></li>
                        <li><b><a href="https://www.docker.com/products/docker-desktop">Features</a></b></li>
                        <li><a href="https://www.docker.com/products/container-runtime">Container Runtime</a></li>
                        <li><a href="https://www.docker.com/products/developer-tools">Developer Tools</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/products/docker-desktop">Developers</a></b></li>
                        <li><a href="https://www.docker.com/use-cases">Use Cases</a></li>
                        <li><a href="https://www.docker.com/docker-community">Community</a></li>
                        <li><a href="https://www.docker.com/open-source">Open Source</a></li>
                        <li><a href="https://www.docker.com/community/docker-captains">Docker Captains</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/products/docker-desktop">Pricing</a></b></li>
                        <li><a href="https://www.docker.com/pricing/faq">FAQs</a></li>
                        <li><a href="https://www.docker.com/partners/programs">Docker Verified Publisher Program</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/company" target="_blank" rel="noopener">Company</a></b></li>
                        <li><a href="https://www.docker.com/company">About Us</a></li>
                        <li><a href="https://www.docker.com/blog/" target="_blank" rel="noopener">Blog</a></li>
                        <li><a href="https://www.docker.com/customers">Customers</a></li>
                        <li><a href="https://www.docker.com/partners">Partners</a></li>
                        <li><a href="https://www.docker.com/company/newsroom">Newsroom</a></li>
                        <li><a href="https://www.docker.com/careers">Careers</a></li>
                        <li><a href="https://www.docker.com/company/contact">Contact Us</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-nav">
                <nav class="footer_sub_nav">
                    <ul class="menu">
                        <li><a href="http://status.docker.com/">Status</a></li>
                        <li><a href="https://www.docker.com/legal">Legal</a></li>
                        <li><a href="https://www.docker.com/company/contact">Contact</a></li>
                    </ul>
                </nav>
            </div>
        </div>
        <div class="bottom_footer">
            <div class="footer-copyright col-xs-12 col-md-8">
                <p class="copyright">
                    Copyright &copy; 2013-2021 Docker Inc. All rights reserved. </p>
            </div>
            <div class="footer_social_nav">
                <ul class="nav-social">
                    <li class="fa fa-twitter"><a href="http://twitter.com/docker">Twitter</a></li>
                    <li class="fa fa-youtube"><a href="http://www.youtube.com/user/dockerrun">Youtube</a></li>
                    <li class="fa fa-github"><a href="https://github.com/docker">GitHub</a></li>
                    <li class="fa fa-linkedin"><a href="https://www.linkedin.com/company/docker">Linkedin</a></li>
                    <li class="fa fa-facebook"><a href="https://www.facebook.com/docker.run">Facebook</a></li>
                    <li class="fa fa-slideshare"><a href="https://www.slideshare.net/docker">Slideshare</a></li>
                    <li class="fa fa-reddit"><a href="https://www.reddit.com/r/docker">Reddit</a></li>
                </ul>
            </div>
        </div>
    </div>

    </footer>
    <script>const pageURL = "/engine/scan/";</script><script>
    let PDRTJS_settings_8453675 = {
        "id": "8453675",
        "unique_id": "engine/scan/index.md",
        "title": "Vulnerability scanning for Docker local images",
        "font_family": "Open Sans, sans serif",
        "font_color": "b9c2cc",
        "font_align": "center",
        "permalink": "https://github.com/docker/docker.github.io/blob/master/engine/scan/index.md"
    };
    (function (d, c, j) {
        if (!document.getElementById(j)) {
            let pd=d.createElement(c),s;pd.id=j;pd.src='https://polldaddy.com/js/rating/rating.js';s=document.getElementsByTagName(c)[0];s.parentNode.insertBefore(pd, s);
        }
    }(document, 'script', 'pd-rating-js'));
</script></body>
</html>
