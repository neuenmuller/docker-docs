<!-- Page generated 2021-11-17 12:16:07 +0000-->
<!DOCTYPE html>
<html lang="en"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="robots" content="noindex"/><!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-WL2QLG5');</script>
<title>Get started with Docker Machine and a local VM | Docker Documentation</title>
  <meta name="description" content="Get started with Docker Machine and a local VM" />
  <meta name="keywords" content="machine, virtualbox">
  <link rel="canonical" href="https://docs.docker.com/machine/get-started/" />

  <!-- favicon -->
  <link rel="icon" type="image/x-icon" href="/favicons/docs@2x.ico" sizes="129x128">
  <link rel="apple-touch-icon" type="image/x-icon" href="/favicons/docs@2x.ico" sizes="129x128">
  <meta name="msapplication-TileImage" content="/favicons/docs@2x.ico">
  <meta property="og:image" content="/favicons/docs@2x.ico"/>
  <meta name="theme-color" content="#2496ed" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- hide elements that are only shown without JavaScript enabled -->
  <script>document.documentElement.classList.add('js')</script>
  <style>html.js .no-js { display: none !important; }</style><script defer src="/js/theme-switcher.js"></script>
  <script defer src="/js/anchorlinks.js"></script>
  <script defer src="/js/jquery.js"></script>
  <script defer src="/js/bootstrap.min.js"></script>
  <script defer src="/js/docs.js"></script><script defer src="/js/search.js"></script><link rel="preload" as="font" href="https://fonts.gstatic.com/s/opensans/v18/mem8YaGs126MiZpBA-UFVZ0bf8pkAg.woff2" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/fonts/geomanist/hinted-Geomanist-Book.woff2"    type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/fonts/geomanist/hinted-Geomanist-Regular.woff2" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/fonts/glyphicons-halflings-regular.woff2"       type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/fonts/fontawesome-webfont.woff2?v=4.7.0"        type="font/woff2" crossorigin="anonymous">

  <link rel="stylesheet" href="/css/font-awesome.min.css">
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/style.css" id="pagestyle">

  <!-- SEO stuff -->
  <meta name="twitter:title" itemprop="title name" content="Get started with Docker Machine and a local VM"/>
  <meta name="twitter:description" property="og:description" itemprop="description" content="" />
  <meta name="twitter:card" content="summary_large_image"/>
  <meta name="twitter:domain" content="docs.docker.com"/>
  <meta name="twitter:site" content="@docker_docs"/>
  <meta name="twitter:url" content="https://twitter.com/docker_docs"/>
  <meta name="twitter:image:src" content="https://docs.docker.com/images/docs@2x.png"/>
  <meta name="twitter:image:alt" content="Docker Documentation"/>
  <meta property="og:title" content="Get started with Docker Machine and a local VM" />
  <meta property="og:description" content="Get started with Docker Machine and a local VM" />
  <meta property="og:type" content="website"/>
  <meta property="og:updated_time" itemprop="dateUpdated" content="2021-11-17T12:16:07+00:00"/>
  <meta property="og:image" itemprop="image primaryImageOfPage" content="https://docs.docker.com/images/docs@2x.png"/>
  <meta property="og:locale" content="en_US" />
  <meta property="og:url" content="https://docs.docker.com/machine/get-started/" />
  <meta property="og:site_name" content="Docker Documentation" />
  <meta property="article:published_time" itemprop="datePublished" content="2021-11-17T12:16:07+00:00"/>
  <script type="application/ld+json">{"@context":"http://schema.org","@type":"WebPage","headline":"Get started with Docker Machine and a local VM","description":"Get started with Docker Machine and a local VM","url":"https://docs.docker.com/machine/get-started/"}</script>
  <!-- END SEO STUFF -->
</head>
<body class="colums">
    <header>
        <nav class="nav-secondary navbar navbar-fixed-top">
    <div class="container-fluid">
        <div class="navbar-header">
            <a href="/">
                <img class="logo" src="/images/docker-docs-logo.svg" alt="Docker Docs" title="Docker Docs" width="160" height="28" />
            </a>
        </div>
        <div class="navbar-collapse" aria-expanded="false" style="height: 1px;">
            <div class="logo-mobile">
    <a href="/">
        <img src="/images/docker-icon.svg" alt="Docker Docs" title="Docker Docs" width="30" height="30" />
    </a>
</div>
<div class="search-form" id="search-div">
    <form class="search-form form-inline" id="searchForm" action="/search/" method="get">
        <label for="st-search-input" class="sr-only">Search</label>
        <input class="search-field form-control ds-input" id="st-search-input" name="q" placeholder="Search the docs" type="search" autocomplete="off" spellcheck="false" dir="auto" style="position: relative; vertical-align: top;">
        <div id="autocompleteResults"></div>
        <!-- <button type="submit" class="search-submit btn btn-default">Search</button> -->
    </form>
</div>
<div class="sidebar-toggle">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
    </button>
</div>
<div class="nav-container hidden-sm hidden-xs">
    <div>
        <ul class="nav navbar-nav"><li><a href="/" id="home">Home</a></li><li><a href="/get-started/overview/" id="guides">Guides</a></li><li><a href="/desktop/" id="manuals">Manuals</a></li><li><a href="/reference/" id="reference">Reference</a></li><li><a href="/samples/" id="samples">Samples</a></li></ul>
    </div>
    <div class="ctrl-right">
        <a href="javascript:void(0)" id="menu-toggle" aria-label="Current page's menu toggle"><i class="fa fa-indent" aria-hidden="true"></i></a>
    </div>
</div>
<div class="row hidden-sm hidden-xs">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li><a href="/" title="Docker docs homepage"><i class="fa fa-home"></i></a></li>
            <li><a href="/desktop/">Manuals</a></li><li><a>Superseded products and tools</a></li><li><a href="/machine/">Docker Machine</a></li><li><a href="/machine/get-started/">Get started with a local VM</a></li></ol>
    </nav>
</div></div>
    </div>
</nav>

    </header>
    <div class="wrapper right-open">
        <div class="container-fluid">
            <div class="row">
                <div class="col-body">
                    <main class="col-content content">
                        <section class="section"><h1>Get started with Docker Machine and a local VM</h1><p><em class="reading-time">Estimated reading time: 11 minutes</em></p><p>Let’s take a look at using <code class="highlighter-rouge">docker-machine</code> to create, use, and manage a
Docker host inside of a local virtual machine.</p>

<blockquote>
  <p><strong>Note</strong></p>

  <p>Docker Machine is no longer included in the Docker Desktop installer. You can download it separately from the <a href="https://github.com/docker/machine/releases/" target="_blank" rel="noopener" class="_">docker/machine</a> release
page on GitHub.</p>
</blockquote>

<h2 id="prerequisite-information">Prerequisite information</h2>

<p>With the advent of <a href="/desktop/mac/">Docker Desktop for Mac</a> and
<a href="/desktop/windows/">Docker Desktop for Windows</a>, we recommend that you use these for your
primary Docker workflows. You can use these applications to run Docker natively
on your local system without using Docker Machine at all.</p>

<p>For now, however, if you want to create <em>multiple</em> local machines, you still
need Docker Machine to create and manage machines for multi-node
experimentation.</p>

<p>The new solutions come with their own native virtualization solutions rather
than Oracle VirtualBox, so keep the following considerations in mind when using
Machine to create local VMs.</p>

<ul>
  <li>
    <p><strong>Docker Desktop for Mac</strong> - You can use <code class="highlighter-rouge">docker-machine create</code> with the <code class="highlighter-rouge">virtualbox</code> driver to create additional local machines.</p>
  </li>
  <li>
    <p><strong>Docker Desktop for Windows</strong> - You can use <code class="highlighter-rouge">docker-machine create</code> with the <code class="highlighter-rouge">hyperv</code> driver to create additional local machines.</p>
  </li>
</ul>

<h4 id="if-you-are-using-docker-desktop-for-windows">If you are using Docker Desktop for Windows</h4>

<p>Docker Desktop for Windows uses <a href="https://msdn.microsoft.com/en-us/virtualization/hyperv_on_windows/windows_welcome">Microsoft
Hyper-V</a>
for virtualization, and Hyper-V is not compatible with Oracle VirtualBox.
Therefore, you cannot run the two solutions simultaneously. But you can still
use <code class="highlighter-rouge">docker-machine</code> to create more local VMs by using the Microsoft Hyper-V
driver.</p>

<p>The prerequisites are:</p>

<ul>
  <li>
    <p>Have Docker Desktop for Windows installed, and running (which requires that virtualization and Hyper-V are enabled, as described in <a href="/desktop/windows/install/#system-requirements">What to know before you install Docker Desktop for Windows</a>).</p>
  </li>
  <li>
    <p>Set up the Hyper-V driver to use an external virtual network switch See
the <a href="/machine/drivers/hyper-v/">Docker Machine driver for Microsoft Hyper-V</a> topic,
which includes an <a href="/machine/drivers/hyper-v/#example">example</a> of how to do this.</p>
  </li>
</ul>

<h4 id="if-you-are-using-docker-desktop-for-mac">If you are using Docker Desktop for Mac</h4>

<p>Docker Desktop for Mac uses <a href="https://github.com/docker/HyperKit/">HyperKit</a>, a
lightweight macOS virtualization solution built on top of the
<a href="https://developer.apple.com/reference/hypervisor">Hypervisor.framework</a>.</p>

<p>Currently, there is no <code class="highlighter-rouge">docker-machine create</code> driver for HyperKit, so
use the <code class="highlighter-rouge">virtualbox</code> driver to create local machines. (See the
<a href="/machine/drivers/virtualbox/">Docker Machine driver for Oracle VirtualBox</a>.) You can
run both HyperKit and Oracle VirtualBox on the same system.</p>

<ul>
  <li>Make sure you have <a href="https://www.virtualbox.org/wiki/Downloads" target="_blank" rel="noopener" class="_">the latest VirtualBox</a>
correctly installed on your system.</li>
</ul>

<h2 id="use-machine-to-run-docker-containers">Use Machine to run Docker containers</h2>

<p>To run a Docker container, you:</p>

<ul>
  <li>create a new (or start an existing) Docker virtual machine</li>
  <li>switch your environment to your new VM</li>
  <li>use the docker client to create, load, and manage containers</li>
</ul>

<p>Once you create a machine, you can reuse it as often as you like. Like any VirtualBox VM, it maintains its configuration between uses.</p>

<p>The examples here show how to create and start a machine, run Docker commands, and work with containers.</p>

<h2 id="create-a-machine">Create a machine</h2>

<ol>
  <li>
    <p>Open a command shell or terminal window.</p>

    <p>These command examples shows a Bash shell. For a different shell, such as C Shell, the same commands are the same except where noted.</p>
  </li>
  <li>
    <p>Use <code class="highlighter-rouge">docker-machine ls</code> to list available machines.</p>

    <p>In this example, no machines have been created yet.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> $ docker-machine ls
 NAME   ACTIVE   DRIVER   STATE   URL   SWARM   DOCKER   ERRORS
</code></pre></div>    </div>
  </li>
  <li>
    <p>Create a machine.</p>

    <p>Run the <code class="highlighter-rouge">docker-machine create</code> command, pass the appropriate driver to the
<code class="highlighter-rouge">--driver</code> flag and provide a machine name. If this is your first machine, name
it <code class="highlighter-rouge">default</code> as shown in the example. If you already have a “default” machine,
choose another name for this new machine.</p>

    <p>On Docker Desktop for Windows systems that support Hyper-V, use the <code class="highlighter-rouge">hyperv</code> driver as shown in the <a href="/machine/drivers/hyper-v/">Docker Machine Microsoft Hyper-V driver reference</a> and follow the <a href="/machine/drivers/hyper-v/#example">example</a>, which shows how to use an external network switch and provides the flags for the full command. (See <a href="/machine/get-started/#prerequisite-information">prerequisites</a> above to learn more.)</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>     $ docker-machine create --driver virtualbox default
     Running pre-create checks...
     Creating machine...
     (staging) Copying /Users/ripley/.docker/machine/cache/boot2docker.iso to /Users/ripley/.docker/machine/machines/default/boot2docker.iso...
     (staging) Creating VirtualBox VM...
     (staging) Creating SSH key...
     (staging) Starting the VM...
     (staging) Waiting for an IP...
     Waiting for machine to be running, this may take a few minutes...
     Machine is running, waiting for SSH to be available...
     Detecting operating system of created instance...
     Detecting the provisioner...
     Provisioning with boot2docker...
     Copying certs to the local machine directory...
     Copying certs to the remote machine...
     Setting Docker configuration on the remote daemon...
     Checking connection to Docker...
     Docker is up and running!
     To see how to connect Docker to this machine, run: docker-machine env default
</code></pre></div>    </div>

    <p>This command downloads a lightweight Linux distribution (<a href="https://github.com/boot2docker/boot2docker" target="_blank" rel="noopener" class="_">boot2docker</a>) with the Docker daemon installed, and creates and starts a VirtualBox VM with Docker running.</p>
  </li>
  <li>
    <p>List available machines again to see your newly minted machine.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> $ docker-machine ls
 NAME      ACTIVE   DRIVER       STATE     URL                         SWARM   DOCKER   ERRORS
 default   *        virtualbox   Running   tcp://192.168.99.187:2376           v1.9.1
</code></pre></div>    </div>
  </li>
  <li>
    <p>Get the environment commands for your new VM.</p>

    <p>As noted in the output of the <code class="highlighter-rouge">docker-machine create</code> command, you need to tell Docker to talk to the new machine. You can do this with the <code class="highlighter-rouge">docker-machine env</code> command.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> $ docker-machine env default
 export DOCKER_TLS_VERIFY="1"
 export DOCKER_HOST="tcp://172.16.62.130:2376"
 export DOCKER_CERT_PATH="/Users/&lt;yourusername&gt;/.docker/machine/machines/default"
 export DOCKER_MACHINE_NAME="default"
 # Run this command to configure your shell:
 # eval "$(docker-machine env default)"
</code></pre></div>    </div>
  </li>
  <li>
    <p>Connect your shell to the new machine.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> $ eval "$(docker-machine env default)"
</code></pre></div>    </div>

    <p><strong>Note</strong>: If you are using <code class="highlighter-rouge">fish</code>, or a Windows shell such as
   Powershell/<code class="highlighter-rouge">cmd.exe</code>, the above method does not work as described.
   Instead, see <a href="/machine/reference/env/" target="_blank" rel="noopener" class="_">the <code class="highlighter-rouge">env</code> command’s documentation</a>
   to learn how to set the environment variables for your shell.</p>

    <p>This sets environment variables for the current shell that the Docker
 client reads which specify the TLS settings. You need to do this
 each time you open a new shell or restart your machine. (See also, how to
   <a href="/machine/get-started/#unset-environment-variables-in-the-current-shell">unset environment variables in the current shell</a>.)</p>

    <p>You can now run Docker commands on this host.</p>
  </li>
</ol>

<h2 id="run-containers-and-experiment-with-machine-commands">Run containers and experiment with Machine commands</h2>

<p>Run a container with <code class="highlighter-rouge">docker run</code> to verify your set up.</p>

<ol>
  <li>
    <p>Use <code class="highlighter-rouge">docker run</code> to download and run <code class="highlighter-rouge">busybox</code> with a simple ‘echo’ command.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> $ docker run busybox echo hello world
 Unable to find image 'busybox' locally
 Pulling repository busybox
 e72ac664f4f0: Download complete
 511136ea3c5a: Download complete
 df7546f9f060: Download complete
 e433a6c5b276: Download complete
 hello world
</code></pre></div>    </div>
  </li>
  <li>
    <p>Get the host IP address.</p>

    <p>Any exposed ports are available on the Docker host’s IP address, which you can get using the <code class="highlighter-rouge">docker-machine ip</code> command:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> $ docker-machine ip default
 192.168.99.100
</code></pre></div>    </div>
  </li>
  <li>
    <p>Run a <a href="https://www.nginx.com/" target="_blank" rel="noopener" class="_">Nginx</a> webserver in a container with the following command:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> $ docker run -d -p 8000:80 nginx
</code></pre></div>    </div>

    <p>When the image is finished pulling, you can hit the server at port 8000 on the IP address given to you by <code class="highlighter-rouge">docker-machine ip</code>. For instance:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>     $ curl $(docker-machine ip default):8000
     <span class="cp">&lt;!DOCTYPE html&gt;</span>
     <span class="nt">&lt;html&gt;</span>
     <span class="nt">&lt;head&gt;</span>
     <span class="nt">&lt;title&gt;</span>Welcome to nginx!<span class="nt">&lt;/title&gt;</span>
     <span class="nt">&lt;style&gt;</span>
         <span class="nt">body</span> <span class="p">{</span>
             <span class="nl">width</span><span class="p">:</span> <span class="m">35em</span><span class="p">;</span>
             <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span> <span class="nb">auto</span><span class="p">;</span>
             <span class="nl">font-family</span><span class="p">:</span> <span class="n">Tahoma</span><span class="p">,</span> <span class="n">Verdana</span><span class="p">,</span> <span class="n">Arial</span><span class="p">,</span> <span class="nb">sans-serif</span><span class="p">;</span>
         <span class="p">}</span>
     <span class="nt">&lt;/style&gt;</span>
     <span class="nt">&lt;/head&gt;</span>
     <span class="nt">&lt;body&gt;</span>
     <span class="nt">&lt;h1&gt;</span>Welcome to nginx!<span class="nt">&lt;/h1&gt;</span>
     <span class="nt">&lt;p&gt;</span>If you see this page, the nginx web server is successfully installed and
     working. Further configuration is required.<span class="nt">&lt;/p&gt;</span>

     <span class="nt">&lt;p&gt;</span>For online documentation and support, refer to
     <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"https://nginx.org"</span><span class="nt">&gt;</span>nginx.org<span class="nt">&lt;/a&gt;</span>.<span class="nt">&lt;br/&gt;</span>
     Commercial support is available at
     <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"https://www.nginx.com"</span><span class="nt">&gt;</span>www.nginx.com<span class="nt">&lt;/a&gt;</span>.<span class="nt">&lt;/p&gt;</span>

     <span class="nt">&lt;p&gt;&lt;em&gt;</span>Thank you for using nginx.<span class="nt">&lt;/em&gt;&lt;/p&gt;</span>
     <span class="nt">&lt;/body&gt;</span>
     <span class="nt">&lt;/html&gt;</span>
</code></pre></div>    </div>
  </li>
</ol>

<p>You can create and manage as many local VMs running Docker as your local resources permit; just run <code class="highlighter-rouge">docker-machine create</code> again. All created machines appear in the output of <code class="highlighter-rouge">docker-machine ls</code>.</p>

<h2 id="start-and-stop-machines">Start and stop machines</h2>

<p>If you are finished using a host for the time being, you can stop it with <code class="highlighter-rouge">docker-machine stop</code> and later start it again with <code class="highlighter-rouge">docker-machine start</code>.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    $ docker-machine stop default
    $ docker-machine start default
</code></pre></div></div>

<h2 id="operate-on-machines-without-specifying-the-name">Operate on machines without specifying the name</h2>

<p>Some <code class="highlighter-rouge">docker-machine</code> commands assume that the given operation should be run on a machine named <code class="highlighter-rouge">default</code> (if it exists) if no machine name is specified.  Because using a local VM named <code class="highlighter-rouge">default</code> is such a common pattern, this allows you to save some typing on the most frequently used Machine commands.</p>

<p>For example:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>      $ docker-machine stop
      Stopping "default"....
      Machine "default" was stopped.

      $ docker-machine start
      Starting "default"...
      (default) Waiting for an IP...
      Machine "default" was started.
      Started machines may have new IP addresses.  You may need to re-run the `docker-machine env` command.

      $ eval $(docker-machine env)

      $ docker-machine ip
        192.168.99.100
</code></pre></div></div>

<p>Commands that follow this style are:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    - `docker-machine config`
    - `docker-machine env`
    - `docker-machine inspect`
    - `docker-machine ip`
    - `docker-machine kill`
    - `docker-machine provision`
    - `docker-machine regenerate-certs`
    - `docker-machine restart`
    - `docker-machine ssh`
    - `docker-machine start`
    - `docker-machine status`
    - `docker-machine stop`
    - `docker-machine upgrade`
    - `docker-machine url`
</code></pre></div></div>

<p>For machines other than <code class="highlighter-rouge">default</code>, and commands other than those listed above, you must always specify the name explicitly as an argument.</p>

<h2 id="unset-environment-variables-in-the-current-shell">Unset environment variables in the current shell</h2>

<p>You might want to use the current shell to connect to a different Docker Engine.
In such scenarios, you have the option to switch the environment for the current
shell to talk to different Docker engines.</p>

<ol>
  <li>
    <p>Run <code class="highlighter-rouge">env|grep DOCKER</code> to check whether DOCKER environment variables are set.</p>

    <pre><code class="language-none">$ env | grep DOCKER
DOCKER_HOST=tcp://192.168.99.100:2376
DOCKER_MACHINE_NAME=default
DOCKER_TLS_VERIFY=1
DOCKER_CERT_PATH=/Users/&lt;your_username&gt;/.docker/machine/machines/default
</code></pre>

    <p>If it returns output (as shown in the example), you can unset the <code class="highlighter-rouge">DOCKER</code> environment variables.</p>
  </li>
  <li>
    <p>Use one of two methods to unset DOCKER environment variables in the current shell.</p>

    <ul>
      <li>
        <p>Run the <code class="highlighter-rouge">unset</code> command on the following <code class="highlighter-rouge">DOCKER</code> environment variables.</p>

        <pre><code class="language-none">unset DOCKER_TLS_VERIFY
unset DOCKER_CERT_PATH
unset DOCKER_MACHINE_NAME
unset DOCKER_HOST
</code></pre>
      </li>
      <li>
        <p>Alternatively, run a shortcut command <code class="highlighter-rouge">docker-machine env -u</code> to show the command you need to run to unset all DOCKER variables:</p>

        <pre><code class="language-none">$ docker-machine env -u
unset DOCKER_TLS_VERIFY
unset DOCKER_HOST
unset DOCKER_CERT_PATH
unset DOCKER_MACHINE_NAME
# Run this command to configure your shell:
# eval $(docker-machine env -u)
</code></pre>

        <p>Run <code class="highlighter-rouge">eval $(docker-machine env -u)</code> to unset all DOCKER variables in the current shell.</p>
      </li>
    </ul>
  </li>
  <li>
    <p>Now, after running either of the above commands, this command should return no output.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> $ env | grep DOCKER
</code></pre></div>    </div>

    <p>If you are running Docker Desktop for Mac, you can run Docker commands to talk
 to the Docker Engine installed with that app.</p>
  </li>
</ol>

<h2 id="start-local-machines-on-startup">Start local machines on startup</h2>

<p>To ensure that the Docker client is automatically configured at the start of
each shell session, you can embed <code class="highlighter-rouge">eval $(docker-machine env default)</code> in your
shell profiles, by adding it to the <code class="highlighter-rouge">~/.bash_profile</code> file or the equivalent
configuration file for your shell. However, this fails if a machine called
<code class="highlighter-rouge">default</code> is not running. You can configure your system to start the <code class="highlighter-rouge">default</code>
machine automatically. The following example shows how to do this in macOS.</p>

<p>Create a file called <code class="highlighter-rouge">com.docker.machine.default.plist</code> in the
<code class="highlighter-rouge">~/Library/LaunchAgents/</code> directory, with the following content:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="cp">&lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;</span>
<span class="nt">&lt;plist</span> <span class="na">version=</span><span class="s">"1.0"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;dict&gt;</span>
        <span class="nt">&lt;key&gt;</span>EnvironmentVariables<span class="nt">&lt;/key&gt;</span>
        <span class="nt">&lt;dict&gt;</span>
            <span class="nt">&lt;key&gt;</span>PATH<span class="nt">&lt;/key&gt;</span>
            <span class="nt">&lt;string&gt;</span>/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin<span class="nt">&lt;/string&gt;</span>
        <span class="nt">&lt;/dict&gt;</span>
        <span class="nt">&lt;key&gt;</span>Label<span class="nt">&lt;/key&gt;</span>
        <span class="nt">&lt;string&gt;</span>com.docker.machine.default<span class="nt">&lt;/string&gt;</span>
        <span class="nt">&lt;key&gt;</span>ProgramArguments<span class="nt">&lt;/key&gt;</span>
        <span class="nt">&lt;array&gt;</span>
            <span class="nt">&lt;string&gt;</span>/usr/local/bin/docker-machine<span class="nt">&lt;/string&gt;</span>
            <span class="nt">&lt;string&gt;</span>start<span class="nt">&lt;/string&gt;</span>
            <span class="nt">&lt;string&gt;</span>default<span class="nt">&lt;/string&gt;</span>
        <span class="nt">&lt;/array&gt;</span>
        <span class="nt">&lt;key&gt;</span>RunAtLoad<span class="nt">&lt;/key&gt;</span>
        <span class="nt">&lt;true/&gt;</span>
    <span class="nt">&lt;/dict&gt;</span>
<span class="nt">&lt;/plist&gt;</span>
</code></pre></div></div>

<p>You can change the <code class="highlighter-rouge">default</code> string above to make this <code class="highlighter-rouge">LaunchAgent</code> start a
different machine.</p>

<h2 id="where-to-go-next">Where to go next</h2>

<ul>
  <li>Provision multiple Docker hosts <a href="/machine/get-started-cloud/">on your cloud provider</a></li>
  <li><a href="/machine/concepts/">Understand Machine concepts</a></li>
  <li><a href="/machine/drivers/">Docker Machine list of reference pages for all supported drivers</a></li>
  <li><a href="/machine/drivers/virtualbox/">Docker Machine driver for Oracle VirtualBox</a></li>
  <li><a href="/machine/drivers/hyper-v/">Docker Machine driver for Microsoft Hyper-V</a></li>
  <li><a href="/machine/reference/"><code class="highlighter-rouge">docker-machine</code> command line reference</a></li>
</ul>
<span class="glyphicon glyphicon-tags" style="padding-right: 10px"></span><span style="vertical-align: 2px"><a href="/search/?q=machine">machine</a>, <a href="/search/?q=virtualbox">virtualbox</a></span><div class="ratings-div"><div id="pd_rating_holder_8453675"></div></div></section>
                    </main>
                    <nav class="col-nav">
                        <div id="sidebar-nav" class="sidebar hidden-sm hidden-xs">
                            <div id="navbar" class="nav-sidebar">
                                <ul class="nav hidden-md hidden-lg"></ul>
                                <ul class="nav" id="jsTOCLeftNav"></ul>
                            </div>
                        </div>
                    </nav>
                    <div class="col-toc">
                        <div class="sidebar hidden-xs hidden-sm">
                            <div class="toc-nav">
                                <div class="feedback-links">
                                    <ul><li><a href="https://github.com/docker/docker.github.io/edit/master/machine/get-started.md"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> Edit this page</a></li><li><a href="https://github.com/docker/docker.github.io/issues/new?body=File: [machine/get-started.md](https://docs.docker.com/machine/get-started/)" class="nomunge"><i class="fa fa-check" aria-hidden="true"></i> Request docs changes</a></li>
                                        <li><div class="toggle-mode">
  <div class="icon">
      <i class="fa fa-sun-o" aria-hidden="true"></i>
  </div>
  <div class="toggle-switch">
      <label class="switch">
          <input type="checkbox" id="switch-style">
          <span class="slider round"></span>
      </label>
  </div>
  <div class="icon">
      <i class="fa fa-moon-o" aria-hidden="true"></i>
  </div>
</div>
</li>
                                    </ul>
                                </div><div id="side-toc-title">On this page:</div>
<ul id="my_toc" class="inline_toc">
  <li><a href="#prerequisite-information" class="nomunge">Prerequisite information</a></li>
  <li><a href="#use-machine-to-run-docker-containers" class="nomunge">Use Machine to run Docker containers</a></li>
  <li><a href="#create-a-machine" class="nomunge">Create a machine</a></li>
  <li><a href="#run-containers-and-experiment-with-machine-commands" class="nomunge">Run containers and experiment with Machine commands</a></li>
  <li><a href="#start-and-stop-machines" class="nomunge">Start and stop machines</a></li>
  <li><a href="#operate-on-machines-without-specifying-the-name" class="nomunge">Operate on machines without specifying the name</a></li>
  <li><a href="#unset-environment-variables-in-the-current-shell" class="nomunge">Unset environment variables in the current shell</a></li>
  <li><a href="#start-local-machines-on-startup" class="nomunge">Start local machines on startup</a></li>
  <li><a href="#where-to-go-next" class="nomunge">Where to go next</a></li>
</ul>

</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer class="footer">
          
    <div class="container">
        <div class="top_footer">
            <div class="row">
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/why-docker">Why Docker?</a></b></li>
                        <li><a href="https://www.docker.com/what-container">What is a Container?</a></li>
                        <li><a href="https://docker.events.cube365.net/dockercon/">DockerCon</a></li>
                        <li><b><a href="https://www.docker.com/products/overview">Products</a></b></li>
                        <li><a href="https://www.docker.com/products/docker-desktop">Docker Desktop</a></li>
                        <li><a href="https://www.docker.com/products/docker-hub">Docker Hub</a></li>
                        <li><a href="https://www.docker.com/roadmap">Docker Product Roadmap</a></li>
                        <li><b><a href="https://www.docker.com/products/docker-desktop">Features</a></b></li>
                        <li><a href="https://www.docker.com/products/container-runtime">Container Runtime</a></li>
                        <li><a href="https://www.docker.com/products/developer-tools">Developer Tools</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/products/docker-desktop">Developers</a></b></li>
                        <li><a href="https://www.docker.com/use-cases">Use Cases</a></li>
                        <li><a href="https://www.docker.com/docker-community">Community</a></li>
                        <li><a href="https://www.docker.com/open-source">Open Source</a></li>
                        <li><a href="https://www.docker.com/community/docker-captains">Docker Captains</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/products/docker-desktop">Pricing</a></b></li>
                        <li><a href="https://www.docker.com/pricing/faq">FAQs</a></li>
                        <li><a href="https://www.docker.com/partners/programs">Docker Verified Publisher Program</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/company" target="_blank" rel="noopener">Company</a></b></li>
                        <li><a href="https://www.docker.com/company">About Us</a></li>
                        <li><a href="https://www.docker.com/blog/" target="_blank" rel="noopener">Blog</a></li>
                        <li><a href="https://www.docker.com/customers">Customers</a></li>
                        <li><a href="https://www.docker.com/partners">Partners</a></li>
                        <li><a href="https://www.docker.com/company/newsroom">Newsroom</a></li>
                        <li><a href="https://www.docker.com/careers">Careers</a></li>
                        <li><a href="https://www.docker.com/company/contact">Contact Us</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-nav">
                <nav class="footer_sub_nav">
                    <ul class="menu">
                        <li><a href="http://status.docker.com/">Status</a></li>
                        <li><a href="https://www.docker.com/legal">Legal</a></li>
                        <li><a href="https://www.docker.com/company/contact">Contact</a></li>
                    </ul>
                </nav>
            </div>
        </div>
        <div class="bottom_footer">
            <div class="footer-copyright col-xs-12 col-md-8">
                <p class="copyright">
                    Copyright &copy; 2013-2021 Docker Inc. All rights reserved. </p>
            </div>
            <div class="footer_social_nav">
                <ul class="nav-social">
                    <li class="fa fa-twitter"><a href="http://twitter.com/docker">Twitter</a></li>
                    <li class="fa fa-youtube"><a href="http://www.youtube.com/user/dockerrun">Youtube</a></li>
                    <li class="fa fa-github"><a href="https://github.com/docker">GitHub</a></li>
                    <li class="fa fa-linkedin"><a href="https://www.linkedin.com/company/docker">Linkedin</a></li>
                    <li class="fa fa-facebook"><a href="https://www.facebook.com/docker.run">Facebook</a></li>
                    <li class="fa fa-slideshare"><a href="https://www.slideshare.net/docker">Slideshare</a></li>
                    <li class="fa fa-reddit"><a href="https://www.reddit.com/r/docker">Reddit</a></li>
                </ul>
            </div>
        </div>
    </div>

    </footer>
    <script>const pageURL = "/machine/get-started/";</script><script>
    let PDRTJS_settings_8453675 = {
        "id": "8453675",
        "unique_id": "machine/get-started.md",
        "title": "Get started with Docker Machine and a local VM",
        "font_family": "Open Sans, sans serif",
        "font_color": "b9c2cc",
        "font_align": "center",
        "permalink": "https://github.com/docker/docker.github.io/blob/master/machine/get-started.md"
    };
    (function (d, c, j) {
        if (!document.getElementById(j)) {
            let pd=d.createElement(c),s;pd.id=j;pd.src='https://polldaddy.com/js/rating/rating.js';s=document.getElementsByTagName(c)[0];s.parentNode.insertBefore(pd, s);
        }
    }(document, 'script', 'pd-rating-js'));
</script></body>
</html>
