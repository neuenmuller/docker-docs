<!-- Page generated 2021-11-17 12:16:07 +0000-->
<!DOCTYPE html>
<html lang="en"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="robots" content="noindex"/><!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-WL2QLG5');</script>
<title>DigitalOcean example | Docker Documentation</title>
  <meta name="description" content="Using Docker Machine to provision hosts on DigitalOcean" />
  <meta name="keywords" content="docker, machine, cloud, digitalocean">
  <link rel="canonical" href="https://docs.docker.com/machine/examples/ocean/" />

  <!-- favicon -->
  <link rel="icon" type="image/x-icon" href="/favicons/docs@2x.ico" sizes="129x128">
  <link rel="apple-touch-icon" type="image/x-icon" href="/favicons/docs@2x.ico" sizes="129x128">
  <meta name="msapplication-TileImage" content="/favicons/docs@2x.ico">
  <meta property="og:image" content="/favicons/docs@2x.ico"/>
  <meta name="theme-color" content="#2496ed" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- hide elements that are only shown without JavaScript enabled -->
  <script>document.documentElement.classList.add('js')</script>
  <style>html.js .no-js { display: none !important; }</style><script defer src="/js/theme-switcher.js"></script>
  <script defer src="/js/anchorlinks.js"></script>
  <script defer src="/js/jquery.js"></script>
  <script defer src="/js/bootstrap.min.js"></script>
  <script defer src="/js/docs.js"></script><script defer src="/js/search.js"></script><link rel="preload" as="font" href="https://fonts.gstatic.com/s/opensans/v18/mem8YaGs126MiZpBA-UFVZ0bf8pkAg.woff2" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/fonts/geomanist/hinted-Geomanist-Book.woff2"    type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/fonts/geomanist/hinted-Geomanist-Regular.woff2" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/fonts/glyphicons-halflings-regular.woff2"       type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/fonts/fontawesome-webfont.woff2?v=4.7.0"        type="font/woff2" crossorigin="anonymous">

  <link rel="stylesheet" href="/css/font-awesome.min.css">
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/style.css" id="pagestyle">

  <!-- SEO stuff -->
  <meta name="twitter:title" itemprop="title name" content="DigitalOcean example"/>
  <meta name="twitter:description" property="og:description" itemprop="description" content="" />
  <meta name="twitter:card" content="summary_large_image"/>
  <meta name="twitter:domain" content="docs.docker.com"/>
  <meta name="twitter:site" content="@docker_docs"/>
  <meta name="twitter:url" content="https://twitter.com/docker_docs"/>
  <meta name="twitter:image:src" content="https://docs.docker.com/images/docs@2x.png"/>
  <meta name="twitter:image:alt" content="Docker Documentation"/>
  <meta property="og:title" content="DigitalOcean example" />
  <meta property="og:description" content="Using Docker Machine to provision hosts on DigitalOcean" />
  <meta property="og:type" content="website"/>
  <meta property="og:updated_time" itemprop="dateUpdated" content="2021-11-17T12:16:07+00:00"/>
  <meta property="og:image" itemprop="image primaryImageOfPage" content="https://docs.docker.com/images/docs@2x.png"/>
  <meta property="og:locale" content="en_US" />
  <meta property="og:url" content="https://docs.docker.com/machine/examples/ocean/" />
  <meta property="og:site_name" content="Docker Documentation" />
  <meta property="article:published_time" itemprop="datePublished" content="2021-11-17T12:16:07+00:00"/>
  <script type="application/ld+json">{"@context":"http://schema.org","@type":"WebPage","headline":"DigitalOcean example","description":"Using Docker Machine to provision hosts on DigitalOcean","url":"https://docs.docker.com/machine/examples/ocean/"}</script>
  <!-- END SEO STUFF -->
</head>
<body class="colums">
    <header>
        <nav class="nav-secondary navbar navbar-fixed-top">
    <div class="container-fluid">
        <div class="navbar-header">
            <a href="/">
                <img class="logo" src="/images/docker-docs-logo.svg" alt="Docker Docs" title="Docker Docs" width="160" height="28" />
            </a>
        </div>
        <div class="navbar-collapse" aria-expanded="false" style="height: 1px;">
            <div class="logo-mobile">
    <a href="/">
        <img src="/images/docker-icon.svg" alt="Docker Docs" title="Docker Docs" width="30" height="30" />
    </a>
</div>
<div class="search-form" id="search-div">
    <form class="search-form form-inline" id="searchForm" action="/search/" method="get">
        <label for="st-search-input" class="sr-only">Search</label>
        <input class="search-field form-control ds-input" id="st-search-input" name="q" placeholder="Search the docs" type="search" autocomplete="off" spellcheck="false" dir="auto" style="position: relative; vertical-align: top;">
        <div id="autocompleteResults"></div>
        <!-- <button type="submit" class="search-submit btn btn-default">Search</button> -->
    </form>
</div>
<div class="sidebar-toggle">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
    </button>
</div>
<div class="nav-container hidden-sm hidden-xs">
    <div>
        <ul class="nav navbar-nav"><li><a href="/" id="home">Home</a></li><li><a href="/get-started/overview/" id="guides">Guides</a></li><li><a href="/desktop/" id="manuals">Manuals</a></li><li><a href="/reference/" id="reference">Reference</a></li><li><a href="/samples/" id="samples">Samples</a></li></ul>
    </div>
    <div class="ctrl-right">
        <a href="javascript:void(0)" id="menu-toggle" aria-label="Current page's menu toggle"><i class="fa fa-indent" aria-hidden="true"></i></a>
    </div>
</div>
<div class="row hidden-sm hidden-xs">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li><a href="/" title="Docker docs homepage"><i class="fa fa-home"></i></a></li>
            <li><a href="/desktop/">Manuals</a></li><li><a>Superseded products and tools</a></li><li><a href="/machine/">Docker Machine</a></li><li><a href="/machine/examples/ocean/">Learn by example</a></li><li><a href="/machine/examples/ocean/">Provision Digital Ocean Droplets</a></li></ol>
    </nav>
</div></div>
    </div>
</nav>

    </header>
    <div class="wrapper right-open">
        <div class="container-fluid">
            <div class="row">
                <div class="col-body">
                    <main class="col-content content">
                        <section class="section"><h1>DigitalOcean example</h1><p><em class="reading-time">Estimated reading time: 5 minutes</em></p><p>Follow along with this example to create a Dockerized <a href="https://digitalocean.com">DigitalOcean</a> Droplet (cloud host).</p>

<h3 id="step-1-create-a-digitalocean-account">Step 1. Create a DigitalOcean account</h3>

<p>If you have not done so already, go to <a href="https://digitalocean.com">DigitalOcean</a>, create an account, and log in.</p>

<h3 id="step-2-generate-a-personal-access-token">Step 2. Generate a personal access token</h3>

<p>To generate your access token:</p>

<ol>
  <li>
    <p>Go to the DigitalOcean administrator console and click <strong>API</strong> in the header.</p>

    <p><img src="/machine/img/ocean_click_api.png" alt="Click API in DigitalOcean console" /></p>
  </li>
  <li>
    <p>Click <strong>Generate new token</strong> to get to the token generator.</p>

    <p><img src="/machine/img/ocean_gen_token.png" alt="Generate token" /></p>
  </li>
  <li>
    <p>Give the token a descriptive name, make sure the <strong>Write (Optional)</strong> checkbox is checked, and click <strong>Generate Token</strong>.</p>

    <p><img src="/machine/img/ocean_token_create.png" alt="Name and generate token" /></p>
  </li>
  <li>
    <p>Grab (copy to clipboard) the generated big long hex string and store it somewhere safe.</p>

    <p><img src="/machine/img/ocean_save_token.png" alt="Copy and save personal access token" /></p>

    <p>This is the personal access token used in the next step to create your cloud server.</p>
  </li>
</ol>

<h3 id="step-3-use-machine-to-create-the-droplet">Step 3. Use Machine to create the Droplet</h3>

<ol>
  <li>
    <p>Run <code class="highlighter-rouge">docker-machine create</code> with the <code class="highlighter-rouge">digitalocean</code> driver and pass your key to the <code class="highlighter-rouge">--digitalocean-access-token</code> flag, along with a name for the new cloud server.</p>

    <p>For this example, the new Droplet is called <code class="highlighter-rouge">docker-sandbox</code>:</p>

    <pre><code class="language-none">$ docker-machine create --driver digitalocean --digitalocean-access-token xxxxx docker-sandbox
Running pre-create checks...
Creating machine...
(docker-sandbox) OUT | Creating SSH key...
(docker-sandbox) OUT | Creating Digital Ocean droplet...
(docker-sandbox) OUT | Waiting for IP address to be assigned to the Droplet...
Waiting for machine to be running, this may take a few minutes...
Machine is running, waiting for SSH to be available...
Detecting operating system of created instance...
Detecting the provisioner...
Provisioning created instance...
Copying certs to the local machine directory...
Copying certs to the remote machine...
Setting Docker configuration on the remote daemon...
To see how to connect Docker to this machine, run: docker-machine env docker-sandbox
</code></pre>

    <p>When the Droplet is created, Docker generates a unique SSH key and stores it on your local system in <code class="highlighter-rouge">~/.docker/machines</code>. Initially, this is used to provision the host. Later, it’s used under the hood to access the Droplet directly with the <code class="highlighter-rouge">docker-machine ssh</code> command. Docker Engine is installed on the cloud server and the daemon is configured to accept remote connections over TCP using TLS for authentication.</p>
  </li>
  <li>
    <p>Go to the DigitalOcean console to view the new Droplet.</p>

    <p><img src="/machine/img/ocean_droplet.png" alt="Droplet in DigitalOcean created with Machine" /></p>
  </li>
  <li>
    <p>At the command terminal, run <code class="highlighter-rouge">docker-machine ls</code>.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> $ docker-machine ls
 NAME             ACTIVE   DRIVER         STATE     URL                         SWARM
 default          -        virtualbox     Running   tcp://192.168.99.100:2376
 docker-sandbox   *        digitalocean   Running   tcp://45.55.139.48:2376
</code></pre></div>    </div>

    <p>The new <code class="highlighter-rouge">docker-sandbox</code> machine is running, and it is the active host as
 indicated by the asterisk (*). When you create a new machine, your command
 shell automatically connects to it. If for some reason your new machine is
 not the active host, run <code class="highlighter-rouge">docker-machine env docker-sandbox</code>, followed by
 <code class="highlighter-rouge">eval $(docker-machine env docker-sandbox)</code> to connect to it.</p>
  </li>
</ol>

<h3 id="step-4-run-docker-commands-on-the-droplet">Step 4. Run Docker commands on the Droplet</h3>

<ol>
  <li>
    <p>Run some <code class="highlighter-rouge">docker-machine</code> commands to inspect the remote host. For example, <code class="highlighter-rouge">docker-machine ip &lt;machine&gt;</code> gets the host IP address and <code class="highlighter-rouge">docker-machine inspect &lt;machine&gt;</code> lists all the details.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> $ docker-machine ip docker-sandbox
 104.131.43.236

 $ docker-machine inspect docker-sandbox
 {
     "ConfigVersion": 3,
     "Driver": {
     "IPAddress": "104.131.43.236",
     "MachineName": "docker-sandbox",
     "SSHUser": "root",
     "SSHPort": 22,
     "SSHKeyPath": "/Users/samanthastevens/.docker/machine/machines/docker-sandbox/id_rsa",
     "StorePath": "/Users/samanthastevens/.docker/machine",
     "SwarmMaster": false,
     "SwarmHost": "tcp://0.0.0.0:3376",
     "SwarmDiscovery": "",
     ...
</code></pre></div>    </div>
  </li>
  <li>
    <p>Verify Docker Engine is installed correctly by running <code class="highlighter-rouge">docker</code> commands.</p>

    <p>Start with something basic like <code class="highlighter-rouge">docker run hello-world</code>, or for a more interesting test, run a Dockerized webserver on your new remote machine.</p>

    <p>In this example, the <code class="highlighter-rouge">-p</code> option is used to expose port 80 from the <code class="highlighter-rouge">nginx</code> container and make it accessible on port <code class="highlighter-rouge">8000</code> of the <code class="highlighter-rouge">docker-sandbox</code> host.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> $ docker run -d -p 8000:80 --name webserver kitematic/hello-world-nginx
 Unable to find image 'kitematic/hello-world-nginx:latest' locally
 latest: Pulling from kitematic/hello-world-nginx
 a285d7f063ea: Pull complete
 2d7baf27389b: Pull complete
 ...
 Digest: sha256:ec0ca6dcb034916784c988b4f2432716e2e92b995ac606e080c7a54b52b87066
 Status: Downloaded newer image for kitematic/hello-world-nginx:latest
 942dfb4a0eaae75bf26c9785ade4ff47ceb2ec2a152be82b9d7960e8b5777e65
</code></pre></div>    </div>

    <p>In a web browser, go to <code class="highlighter-rouge">http://&lt;host_ip&gt;:8000</code> to bring up the webserver home page. You got the <code class="highlighter-rouge">&lt;host_ip&gt;</code> from the output of the <code class="highlighter-rouge">docker-machine ip &lt;machine&gt;</code> command you ran in a previous step. Use the port you exposed in the <code class="highlighter-rouge">docker run</code> command.</p>

    <p><img src="/machine/img/nginx-webserver.png" alt="nginx webserver" /></p>
  </li>
</ol>

<h3 id="step-5-use-machine-to-remove-the-droplet">Step 5. Use Machine to remove the Droplet</h3>

<p>To remove a host and all of its containers and images, first stop the machine, then use <code class="highlighter-rouge">docker-machine rm</code>:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ docker-machine stop docker-sandbox
$ docker-machine rm docker-sandbox
Do you really want to remove "docker-sandbox"? (y/n): y
Successfully removed docker-sandbox

$ docker-machine ls
NAME      ACTIVE   DRIVER       STATE     URL                         SWARM
default   *        virtualbox   Running   tcp:////xxx.xxx.xx.xxx:xxxx
</code></pre></div></div>

<p>If you monitor the DigitalOcean console while you run these commands, notice
that it updates first to reflect that the Droplet was stopped, and then removed.</p>

<p>If you create a host with Docker Machine, but remove it through the cloud
provider console, Machine loses track of the server status. Use the
<code class="highlighter-rouge">docker-machine rm</code> command for hosts you create with <code class="highlighter-rouge">docker-machine create</code>.</p>

<h2 id="where-to-go-next">Where to go next</h2>

<ul>
  <li><a href="/machine/concepts/">Understand Machine concepts</a></li>
  <li><a href="/machine/drivers/">Docker Machine driver reference</a></li>
  <li><a href="/machine/reference/">Docker Machine subcommand reference</a></li>
  <li><a href="/get-started/02_our_app/">Create containers for your Docker Machine</a></li>
</ul>
<span class="glyphicon glyphicon-tags" style="padding-right: 10px"></span><span style="vertical-align: 2px"><a href="/search/?q=docker">docker</a>, <a href="/search/?q=machine">machine</a>, <a href="/search/?q=cloud">cloud</a>, <a href="/search/?q=digitalocean">digitalocean</a></span><div class="ratings-div"><div id="pd_rating_holder_8453675"></div></div></section>
                    </main>
                    <nav class="col-nav">
                        <div id="sidebar-nav" class="sidebar hidden-sm hidden-xs">
                            <div id="navbar" class="nav-sidebar">
                                <ul class="nav hidden-md hidden-lg"></ul>
                                <ul class="nav" id="jsTOCLeftNav"></ul>
                            </div>
                        </div>
                    </nav>
                    <div class="col-toc">
                        <div class="sidebar hidden-xs hidden-sm">
                            <div class="toc-nav">
                                <div class="feedback-links">
                                    <ul><li><a href="https://github.com/docker/docker.github.io/edit/master/machine/examples/ocean.md"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> Edit this page</a></li><li><a href="https://github.com/docker/docker.github.io/issues/new?body=File: [machine/examples/ocean.md](https://docs.docker.com/machine/examples/ocean/)" class="nomunge"><i class="fa fa-check" aria-hidden="true"></i> Request docs changes</a></li>
                                        <li><div class="toggle-mode">
  <div class="icon">
      <i class="fa fa-sun-o" aria-hidden="true"></i>
  </div>
  <div class="toggle-switch">
      <label class="switch">
          <input type="checkbox" id="switch-style">
          <span class="slider round"></span>
      </label>
  </div>
  <div class="icon">
      <i class="fa fa-moon-o" aria-hidden="true"></i>
  </div>
</div>
</li>
                                    </ul>
                                </div><div id="side-toc-title">On this page:</div>
<ul id="my_toc" class="inline_toc">
  <li><a href="#step-1-create-a-digitalocean-account" class="nomunge">Step 1. Create a DigitalOcean account</a>
    <ul>
      <li><a href="#step-2-generate-a-personal-access-token" class="nomunge">Step 2. Generate a personal access token</a></li>
      <li><a href="#step-3-use-machine-to-create-the-droplet" class="nomunge">Step 3. Use Machine to create the Droplet</a></li>
      <li><a href="#step-4-run-docker-commands-on-the-droplet" class="nomunge">Step 4. Run Docker commands on the Droplet</a></li>
      <li><a href="#step-5-use-machine-to-remove-the-droplet" class="nomunge">Step 5. Use Machine to remove the Droplet</a></li>
    </ul>
  </li>
  <li><a href="#where-to-go-next" class="nomunge">Where to go next</a></li>
</ul>

</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer class="footer">
          
    <div class="container">
        <div class="top_footer">
            <div class="row">
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/why-docker">Why Docker?</a></b></li>
                        <li><a href="https://www.docker.com/what-container">What is a Container?</a></li>
                        <li><a href="https://docker.events.cube365.net/dockercon/">DockerCon</a></li>
                        <li><b><a href="https://www.docker.com/products/overview">Products</a></b></li>
                        <li><a href="https://www.docker.com/products/docker-desktop">Docker Desktop</a></li>
                        <li><a href="https://www.docker.com/products/docker-hub">Docker Hub</a></li>
                        <li><a href="https://www.docker.com/roadmap">Docker Product Roadmap</a></li>
                        <li><b><a href="https://www.docker.com/products/docker-desktop">Features</a></b></li>
                        <li><a href="https://www.docker.com/products/container-runtime">Container Runtime</a></li>
                        <li><a href="https://www.docker.com/products/developer-tools">Developer Tools</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/products/docker-desktop">Developers</a></b></li>
                        <li><a href="https://www.docker.com/use-cases">Use Cases</a></li>
                        <li><a href="https://www.docker.com/docker-community">Community</a></li>
                        <li><a href="https://www.docker.com/open-source">Open Source</a></li>
                        <li><a href="https://www.docker.com/community/docker-captains">Docker Captains</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/products/docker-desktop">Pricing</a></b></li>
                        <li><a href="https://www.docker.com/pricing/faq">FAQs</a></li>
                        <li><a href="https://www.docker.com/partners/programs">Docker Verified Publisher Program</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/company" target="_blank" rel="noopener">Company</a></b></li>
                        <li><a href="https://www.docker.com/company">About Us</a></li>
                        <li><a href="https://www.docker.com/blog/" target="_blank" rel="noopener">Blog</a></li>
                        <li><a href="https://www.docker.com/customers">Customers</a></li>
                        <li><a href="https://www.docker.com/partners">Partners</a></li>
                        <li><a href="https://www.docker.com/company/newsroom">Newsroom</a></li>
                        <li><a href="https://www.docker.com/careers">Careers</a></li>
                        <li><a href="https://www.docker.com/company/contact">Contact Us</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-nav">
                <nav class="footer_sub_nav">
                    <ul class="menu">
                        <li><a href="http://status.docker.com/">Status</a></li>
                        <li><a href="https://www.docker.com/legal">Legal</a></li>
                        <li><a href="https://www.docker.com/company/contact">Contact</a></li>
                    </ul>
                </nav>
            </div>
        </div>
        <div class="bottom_footer">
            <div class="footer-copyright col-xs-12 col-md-8">
                <p class="copyright">
                    Copyright &copy; 2013-2021 Docker Inc. All rights reserved. </p>
            </div>
            <div class="footer_social_nav">
                <ul class="nav-social">
                    <li class="fa fa-twitter"><a href="http://twitter.com/docker">Twitter</a></li>
                    <li class="fa fa-youtube"><a href="http://www.youtube.com/user/dockerrun">Youtube</a></li>
                    <li class="fa fa-github"><a href="https://github.com/docker">GitHub</a></li>
                    <li class="fa fa-linkedin"><a href="https://www.linkedin.com/company/docker">Linkedin</a></li>
                    <li class="fa fa-facebook"><a href="https://www.facebook.com/docker.run">Facebook</a></li>
                    <li class="fa fa-slideshare"><a href="https://www.slideshare.net/docker">Slideshare</a></li>
                    <li class="fa fa-reddit"><a href="https://www.reddit.com/r/docker">Reddit</a></li>
                </ul>
            </div>
        </div>
    </div>

    </footer>
    <script>const pageURL = "/machine/examples/ocean/";</script><script>
    let PDRTJS_settings_8453675 = {
        "id": "8453675",
        "unique_id": "machine/examples/ocean.md",
        "title": "DigitalOcean example",
        "font_family": "Open Sans, sans serif",
        "font_color": "b9c2cc",
        "font_align": "center",
        "permalink": "https://github.com/docker/docker.github.io/blob/master/machine/examples/ocean.md"
    };
    (function (d, c, j) {
        if (!document.getElementById(j)) {
            let pd=d.createElement(c),s;pd.id=j;pd.src='https://polldaddy.com/js/rating/rating.js';s=document.getElementsByTagName(c)[0];s.parentNode.insertBefore(pd, s);
        }
    }(document, 'script', 'pd-rating-js'));
</script></body>
</html>
