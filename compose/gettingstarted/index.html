<!-- Page generated 2021-11-17 12:37:13 +0000-->
<!DOCTYPE html>
<html lang="en"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-WL2QLG5');</script>
<title>Get started with Docker Compose | Docker Documentation</title>
  <meta name="description" content="Get started with Docker Compose" />
  <meta name="keywords" content="documentation, docs, docker, compose, orchestration, containers">
  <link rel="canonical" href="https://docs.docker.com/compose/gettingstarted/" />

  <!-- favicon -->
  <link rel="icon" type="image/x-icon" href="/favicons/docs@2x.ico" sizes="129x128">
  <link rel="apple-touch-icon" type="image/x-icon" href="/favicons/docs@2x.ico" sizes="129x128">
  <meta name="msapplication-TileImage" content="/favicons/docs@2x.ico">
  <meta property="og:image" content="/favicons/docs@2x.ico"/>
  <meta name="theme-color" content="#2496ed" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- hide elements that are only shown without JavaScript enabled -->
  <script>document.documentElement.classList.add('js')</script>
  <style>html.js .no-js { display: none !important; }</style><script defer src="/js/theme-switcher.js"></script>
  <script defer src="/js/anchorlinks.js"></script>
  <script defer src="/js/jquery.js"></script>
  <script defer src="/js/bootstrap.min.js"></script>
  <script defer src="/js/docs.js"></script><script defer src="/js/search.js"></script><link rel="preload" as="font" href="https://fonts.gstatic.com/s/opensans/v18/mem8YaGs126MiZpBA-UFVZ0bf8pkAg.woff2" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/fonts/geomanist/hinted-Geomanist-Book.woff2"    type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/fonts/geomanist/hinted-Geomanist-Regular.woff2" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/fonts/glyphicons-halflings-regular.woff2"       type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/fonts/fontawesome-webfont.woff2?v=4.7.0"        type="font/woff2" crossorigin="anonymous">

  <link rel="stylesheet" href="/css/font-awesome.min.css">
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/style.css" id="pagestyle">

  <!-- SEO stuff -->
  <meta name="twitter:title" itemprop="title name" content="Get started with Docker Compose"/>
  <meta name="twitter:description" property="og:description" itemprop="description" content="" />
  <meta name="twitter:card" content="summary_large_image"/>
  <meta name="twitter:domain" content="docs.docker.com"/>
  <meta name="twitter:site" content="@docker_docs"/>
  <meta name="twitter:url" content="https://twitter.com/docker_docs"/>
  <meta name="twitter:image:src" content="https://docs.docker.com/images/docs@2x.png"/>
  <meta name="twitter:image:alt" content="Docker Documentation"/>
  <meta property="og:title" content="Get started with Docker Compose" />
  <meta property="og:description" content="Get started with Docker Compose" />
  <meta property="og:type" content="website"/>
  <meta property="og:updated_time" itemprop="dateUpdated" content="2021-11-17T12:37:13+00:00"/>
  <meta property="og:image" itemprop="image primaryImageOfPage" content="https://docs.docker.com/images/docs@2x.png"/>
  <meta property="og:locale" content="en_US" />
  <meta property="og:url" content="https://docs.docker.com/compose/gettingstarted/" />
  <meta property="og:site_name" content="Docker Documentation" />
  <meta property="article:published_time" itemprop="datePublished" content="2021-11-17T12:37:13+00:00"/>
  <script type="application/ld+json">{"@context":"http://schema.org","@type":"WebPage","headline":"Get started with Docker Compose","description":"Get started with Docker Compose","url":"https://docs.docker.com/compose/gettingstarted/"}</script>
  <!-- END SEO STUFF -->
</head>
<body class="colums">
    <header>
        <nav class="nav-secondary navbar navbar-fixed-top">
    <div class="container-fluid">
        <div class="navbar-header">
            <a href="/">
                <img class="logo" src="/images/docker-docs-logo.svg" alt="Docker Docs" title="Docker Docs" width="160" height="28" />
            </a>
        </div>
        <div class="navbar-collapse" aria-expanded="false" style="height: 1px;">
            <div class="logo-mobile">
    <a href="/">
        <img src="/images/docker-icon.svg" alt="Docker Docs" title="Docker Docs" width="30" height="30" />
    </a>
</div>
<div class="search-form" id="search-div">
    <form class="search-form form-inline" id="searchForm" action="/search/" method="get">
        <label for="st-search-input" class="sr-only">Search</label>
        <input class="search-field form-control ds-input" id="st-search-input" name="q" placeholder="Search the docs" type="search" autocomplete="off" spellcheck="false" dir="auto" style="position: relative; vertical-align: top;">
        <div id="autocompleteResults"></div>
        <!-- <button type="submit" class="search-submit btn btn-default">Search</button> -->
    </form>
</div>
<div class="sidebar-toggle">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
    </button>
</div>
<div class="nav-container hidden-sm hidden-xs">
    <div>
        <ul class="nav navbar-nav"><li><a href="/" id="home">Home</a></li><li><a href="/get-started/overview/" id="guides">Guides</a></li><li><a href="/desktop/" id="manuals">Manuals</a></li><li><a href="/reference/" id="reference">Reference</a></li><li><a href="/samples/" id="samples">Samples</a></li></ul>
    </div>
    <div class="ctrl-right">
        <a href="javascript:void(0)" id="menu-toggle" aria-label="Current page's menu toggle"><i class="fa fa-indent" aria-hidden="true"></i></a>
    </div>
</div>
<div class="row hidden-sm hidden-xs">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li><a href="/" title="Docker docs homepage"><i class="fa fa-home"></i></a></li>
            <li><a href="/desktop/">Manuals</a></li><li><a href="/compose/">Docker Compose</a></li><li><a href="/compose/gettingstarted/">Getting started</a></li></ol>
    </nav>
</div></div>
    </div>
</nav>

    </header>
    <div class="wrapper right-open">
        <div class="container-fluid">
            <div class="row">
                <div class="col-body">
                    <main class="col-content content">
                        <section class="section"><h1>Get started with Docker Compose</h1><p><em class="reading-time">Estimated reading time: 11 minutes</em></p><p>On this page you build a simple Python web application running on Docker
Compose. The application uses the Flask framework and maintains a hit counter in
Redis. While the sample uses Python, the concepts demonstrated here should be
understandable even if you’re not familiar with it.</p>

<h2 id="prerequisites">Prerequisites</h2>

<p>Make sure you have already installed both <a href="/get-docker/">Docker Engine</a>
and <a href="/compose/install/">Docker Compose</a>. You don’t need to install Python or Redis, as
both are provided by Docker images.</p>

<h2 id="step-1-setup">Step 1: Setup</h2>

<p>Define the application dependencies.</p>

<ol>
  <li>
    <p>Create a directory for the project:</p>

    <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> mkdir composetest
<span class="gp">$</span> <span class="nb">cd </span>composetest
</code></pre></div>    </div>
  </li>
  <li>
    <p>Create a file called <code class="highlighter-rouge">app.py</code> in your project directory and paste this in:</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">time</span>

<span class="kn">import</span> <span class="nn">redis</span>
<span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>
<span class="n">cache</span> <span class="o">=</span> <span class="n">redis</span><span class="o">.</span><span class="n">Redis</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s">'redis'</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">6379</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">get_hit_count</span><span class="p">():</span>
    <span class="n">retries</span> <span class="o">=</span> <span class="mi">5</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">cache</span><span class="o">.</span><span class="n">incr</span><span class="p">(</span><span class="s">'hits'</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">redis</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">ConnectionError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">retries</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">exc</span>
            <span class="n">retries</span> <span class="o">-=</span> <span class="mi">1</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>

<span class="nd">@app.route</span><span class="p">(</span><span class="s">'/'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">hello</span><span class="p">():</span>
    <span class="n">count</span> <span class="o">=</span> <span class="n">get_hit_count</span><span class="p">()</span>
    <span class="k">return</span> <span class="s">'Hello World! I have been seen {} times.</span><span class="se">\n</span><span class="s">'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">count</span><span class="p">)</span>
</code></pre></div>    </div>

    <p>In this example, <code class="highlighter-rouge">redis</code> is the hostname of the redis container on the
application’s network. We use the default port for Redis, <code class="highlighter-rouge">6379</code>.</p>

    <blockquote>
      <p>Handling transient errors</p>

      <p>Note the way the <code class="highlighter-rouge">get_hit_count</code> function is written. This basic retry
loop lets us attempt our request multiple times if the redis service is
not available. This is useful at startup while the application comes
online, but also makes our application more resilient if the Redis
service needs to be restarted anytime during the app’s lifetime. In a
cluster, this also helps handling momentary connection drops between
nodes.</p>
    </blockquote>
  </li>
  <li>
    <p>Create another file called <code class="highlighter-rouge">requirements.txt</code> in your project directory and
paste this in:</p>

    <div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>flask
redis
</code></pre></div>    </div>
  </li>
</ol>

<h2 id="step-2-create-a-dockerfile">Step 2: Create a Dockerfile</h2>

<p>In this step, you write a Dockerfile that builds a Docker image. The image
contains all the dependencies the Python application requires, including Python
itself.</p>

<p>In your project directory, create a file named <code class="highlighter-rouge">Dockerfile</code> and paste the
following:</p>

<div class="language-dockerfile highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># syntax=docker/dockerfile:1</span>
<span class="k">FROM</span><span class="s"> python:3.7-alpine</span>
<span class="k">WORKDIR</span><span class="s"> /code</span>
<span class="k">ENV</span><span class="s"> FLASK_APP=app.py</span>
<span class="k">ENV</span><span class="s"> FLASK_RUN_HOST=0.0.0.0</span>
<span class="k">RUN </span>apk add <span class="nt">--no-cache</span> gcc musl-dev linux-headers
<span class="k">COPY</span><span class="s"> requirements.txt requirements.txt</span>
<span class="k">RUN </span>pip install <span class="nt">-r</span> requirements.txt
<span class="k">EXPOSE</span><span class="s"> 5000</span>
<span class="k">COPY</span><span class="s"> . .</span>
<span class="k">CMD</span><span class="s"> ["flask", "run"]</span>
</code></pre></div></div>

<p>This tells Docker to:</p>

<ul>
  <li>Build an image starting with the Python 3.7 image.</li>
  <li>Set the working directory to <code class="highlighter-rouge">/code</code>.</li>
  <li>Set environment variables used by the <code class="highlighter-rouge">flask</code> command.</li>
  <li>Install gcc and other dependencies</li>
  <li>Copy <code class="highlighter-rouge">requirements.txt</code> and install the Python dependencies.</li>
  <li>Add metadata to the image to describe that the container is listening on port 5000</li>
  <li>Copy the current directory <code class="highlighter-rouge">.</code> in the project to the workdir <code class="highlighter-rouge">.</code> in the image.</li>
  <li>Set the default command for the container to <code class="highlighter-rouge">flask run</code>.</li>
</ul>

<p>For more information on how to write Dockerfiles, see the
<a href="/develop/">Docker user guide</a>
and the <a href="/engine/reference/builder/">Dockerfile reference</a>.</p>

<h2 id="step-3-define-services-in-a-compose-file">Step 3: Define services in a Compose file</h2>

<p>Create a file called <code class="highlighter-rouge">docker-compose.yml</code> in your project directory and paste
the following:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">version</span><span class="pi">:</span> <span class="s2">"</span><span class="s">3.9"</span>
<span class="na">services</span><span class="pi">:</span>
  <span class="na">web</span><span class="pi">:</span>
    <span class="na">build</span><span class="pi">:</span> <span class="s">.</span>
    <span class="na">ports</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s2">"</span><span class="s">5000:5000"</span>
  <span class="na">redis</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s2">"</span><span class="s">redis:alpine"</span>
</code></pre></div></div>

<p>This Compose file defines two services: <code class="highlighter-rouge">web</code> and <code class="highlighter-rouge">redis</code>.</p>

<h3 id="web-service">Web service</h3>

<p>The <code class="highlighter-rouge">web</code> service uses an image that’s built from the <code class="highlighter-rouge">Dockerfile</code> in the current directory.
It then binds the container and the host machine to the exposed port, <code class="highlighter-rouge">5000</code>. This example service uses the default port for 
the Flask web server, <code class="highlighter-rouge">5000</code>.</p>

<h3 id="redis-service">Redis service</h3>

<p>The <code class="highlighter-rouge">redis</code> service uses a public <a href="https://registry.hub.docker.com/_/redis/">Redis</a> 
image pulled from the Docker Hub registry.</p>

<h2 id="step-4-build-and-run-your-app-with-compose">Step 4: Build and run your app with Compose</h2>

<ol>
  <li>
    <p>From your project directory, start up your application by running <code class="highlighter-rouge">docker-compose up</code>.</p>

    <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker-compose up
<span class="go">
Creating network "composetest_default" with the default driver
Creating composetest_web_1 ...
Creating composetest_redis_1 ...
Creating composetest_web_1
Creating composetest_redis_1 ... done
Attaching to composetest_web_1, composetest_redis_1
web_1    |  * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
</span><span class="gp">redis_1  | 1:C 17 Aug 22:11:10.480 #</span> oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
<span class="gp">redis_1  | 1:C 17 Aug 22:11:10.480 #</span> Redis <span class="nv">version</span><span class="o">=</span>4.0.1, <span class="nv">bits</span><span class="o">=</span>64, <span class="nv">commit</span><span class="o">=</span>00000000, <span class="nv">modified</span><span class="o">=</span>0, <span class="nv">pid</span><span class="o">=</span>1, just started
<span class="gp">redis_1  | 1:C 17 Aug 22:11:10.480 #</span> Warning: no config file specified, using the default config. In order to specify a config file use redis-server /path/to/redis.conf
<span class="go">web_1    |  * Restarting with stat
redis_1  | 1:M 17 Aug 22:11:10.483 * Running mode=standalone, port=6379.
</span><span class="gp">redis_1  | 1:M 17 Aug 22:11:10.483 #</span> WARNING: The TCP backlog setting of 511 cannot be enforced because /proc/sys/net/core/somaxconn is <span class="nb">set </span>to the lower value of 128.
<span class="go">web_1    |  * Debugger is active!
</span><span class="gp">redis_1  | 1:M 17 Aug 22:11:10.483 #</span> Server initialized
<span class="gp">redis_1  | 1:M 17 Aug 22:11:10.483 #</span> WARNING you have Transparent Huge Pages <span class="o">(</span>THP<span class="o">)</span> support enabled <span class="k">in </span>your kernel. This will create latency and memory usage issues with Redis. To fix this issue run the <span class="nb">command</span> <span class="s1">'echo never &gt; /sys/kernel/mm/transparent_hugepage/enabled'</span> as root, and add it to your /etc/rc.local <span class="k">in </span>order to retain the setting after a reboot. Redis must be restarted after THP is disabled.
<span class="go">web_1    |  * Debugger PIN: 330-787-903
redis_1  | 1:M 17 Aug 22:11:10.483 * Ready to accept connections
</span></code></pre></div>    </div>

    <p>Compose pulls a Redis image, builds an image for your code, and starts the
services you defined. In this case, the code is statically copied into the image at build time.</p>
  </li>
  <li>
    <p>Enter http://localhost:5000/ in a browser to see the application running.</p>

    <p>If you’re using Docker natively on Linux, Docker Desktop for Mac, or Docker Desktop for
Windows, then the web app should now be listening on port 5000 on your
Docker daemon host. Point your web browser to http://localhost:5000 to
find the <code class="highlighter-rouge">Hello World</code> message. If this doesn’t resolve, you can also try
http://127.0.0.1:5000.</p>

    <p>If you’re using Docker Machine on a Mac or Windows, use <code class="highlighter-rouge">docker-machine ip
MACHINE_VM</code> to get the IP address of your Docker host. Then, open
<code class="highlighter-rouge">http://MACHINE_VM_IP:5000</code> in a browser.</p>

    <p>You should see a message in your browser saying:</p>

    <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">Hello World! I have been seen 1 times.
</span></code></pre></div>    </div>

    <p><img src="/compose/images/quick-hello-world-1.png" alt="hello world in browser" /></p>
  </li>
  <li>
    <p>Refresh the page.</p>

    <p>The number should increment.</p>

    <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">Hello World! I have been seen 2 times.
</span></code></pre></div>    </div>

    <p><img src="/compose/images/quick-hello-world-2.png" alt="hello world in browser" /></p>
  </li>
  <li>
    <p>Switch to another terminal window, and type <code class="highlighter-rouge">docker image ls</code> to list local images.</p>

    <p>Listing images at this point should return <code class="highlighter-rouge">redis</code> and <code class="highlighter-rouge">web</code>.</p>

    <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker image <span class="nb">ls</span>
<span class="go">
REPOSITORY        TAG           IMAGE ID      CREATED        SIZE
composetest_web   latest        e2c21aa48cc1  4 minutes ago  93.8MB
python            3.4-alpine    84e6077c7ab6  7 days ago     82.5MB
redis             alpine        9d8fa9aa0e5b  3 weeks ago    27.5MB
</span></code></pre></div>    </div>

    <p>You can inspect images with <code class="highlighter-rouge">docker inspect &lt;tag or id&gt;</code>.</p>
  </li>
  <li>
    <p>Stop the application, either by running <code class="highlighter-rouge">docker-compose down</code>
from within your project directory in the second terminal, or by
hitting CTRL+C in the original terminal where you started the app.</p>
  </li>
</ol>

<h2 id="step-5-edit-the-compose-file-to-add-a-bind-mount">Step 5: Edit the Compose file to add a bind mount</h2>

<p>Edit <code class="highlighter-rouge">docker-compose.yml</code> in your project directory to add a
<a href="/storage/bind-mounts/">bind mount</a> for the <code class="highlighter-rouge">web</code> service:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">version</span><span class="pi">:</span> <span class="s2">"</span><span class="s">3.9"</span>
<span class="na">services</span><span class="pi">:</span>
  <span class="na">web</span><span class="pi">:</span>
    <span class="na">build</span><span class="pi">:</span> <span class="s">.</span>
    <span class="na">ports</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s2">"</span><span class="s">5000:5000"</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">.:/code</span>
    <span class="na">environment</span><span class="pi">:</span>
      <span class="na">FLASK_ENV</span><span class="pi">:</span> <span class="s">development</span>
  <span class="na">redis</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s2">"</span><span class="s">redis:alpine"</span>
</code></pre></div></div>

<p>The new <code class="highlighter-rouge">volumes</code> key mounts the project directory (current directory) on the
host to <code class="highlighter-rouge">/code</code> inside the container, allowing you to modify the code on the
fly, without having to rebuild the image. The <code class="highlighter-rouge">environment</code> key sets the
<code class="highlighter-rouge">FLASK_ENV</code> environment variable, which tells <code class="highlighter-rouge">flask run</code> to run in development
mode and reload the code on change. This mode should only be used in development.</p>

<h2 id="step-6-re-build-and-run-the-app-with-compose">Step 6: Re-build and run the app with Compose</h2>

<p>From your project directory, type <code class="highlighter-rouge">docker-compose up</code> to build the app with the updated Compose file, and run it.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker-compose up
<span class="go">
Creating network "composetest_default" with the default driver
Creating composetest_web_1 ...
Creating composetest_redis_1 ...
Creating composetest_web_1
Creating composetest_redis_1 ... done
Attaching to composetest_web_1, composetest_redis_1
web_1    |  * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
</span><span class="c">...
</span></code></pre></div></div>

<p>Check the <code class="highlighter-rouge">Hello World</code> message in a web browser again, and refresh to see the
count increment.</p>

<blockquote class="important">
  <p>Shared folders, volumes, and bind mounts</p>

  <ul>
    <li>
      <p>If your project is outside of the <code class="highlighter-rouge">Users</code> directory (<code class="highlighter-rouge">cd ~</code>), then you
need to share the drive or location of the Dockerfile and volume you are using.
If you get runtime errors indicating an application file is not found, a volume
mount is denied, or a service cannot start, try enabling file or drive sharing.
Volume mounting requires shared drives for projects that live outside of
<code class="highlighter-rouge">C:\Users</code> (Windows) or <code class="highlighter-rouge">/Users</code> (Mac), and is required for <em>any</em> project on
Docker Desktop for Windows that uses <a href="/desktop/windows/#switch-between-windows-and-linux-containers">Linux containers</a>.
For more information, see <a href="/desktop/mac/#file-sharing">File sharing</a> on Docker
for Mac, and the general examples on how to
<a href="/storage/volumes/">Manage data in containers</a>.</p>
    </li>
    <li>
      <p>If you are using Oracle VirtualBox on an older Windows OS, you might encounter an issue with shared folders as described in this <a href="https://www.virtualbox.org/ticket/14920">VB trouble
ticket</a>. Newer Windows systems meet the
requirements for <a href="/desktop/windows/install/">Docker Desktop for Windows</a> and do not
need VirtualBox.</p>
    </li>
  </ul>
</blockquote>

<h2 id="step-7-update-the-application">Step 7: Update the application</h2>

<p>Because the application code is now mounted into the container using a volume,
you can make changes to its code and see the changes instantly, without having
to rebuild the image.</p>

<p>Change the greeting in <code class="highlighter-rouge">app.py</code> and save it. For example, change the <code class="highlighter-rouge">Hello World!</code>
message to <code class="highlighter-rouge">Hello from Docker!</code>:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">return</span> <span class="s">'Hello from Docker! I have been seen {} times.</span><span class="se">\n</span><span class="s">'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">count</span><span class="p">)</span>
</code></pre></div></div>

<p>Refresh the app in your browser. The greeting should be updated, and the
counter should still be incrementing.</p>

<p><img src="/compose/images/quick-hello-world-3.png" alt="hello world in browser" /></p>

<h2 id="step-8-experiment-with-some-other-commands">Step 8: Experiment with some other commands</h2>

<p>If you want to run your services in the background, you can pass the <code class="highlighter-rouge">-d</code> flag
(for “detached” mode) to <code class="highlighter-rouge">docker-compose up</code> and use <code class="highlighter-rouge">docker-compose ps</code> to
see what is currently running:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker-compose up <span class="nt">-d</span>
<span class="go">
Starting composetest_redis_1...
Starting composetest_web_1...

</span><span class="gp">$</span> docker-compose ps
<span class="go">
       Name                      Command               State           Ports         
-------------------------------------------------------------------------------------
composetest_redis_1   docker-entrypoint.sh redis ...   Up      6379/tcp              
</span><span class="gp">composetest_web_1     flask run                        Up      0.0.0.0:5000-&gt;</span>5000/tcp
</code></pre></div></div>

<p>The <code class="highlighter-rouge">docker-compose run</code> command allows you to run one-off commands for your
services. For example, to see what environment variables are available to the
<code class="highlighter-rouge">web</code> service:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker-compose run web env
</code></pre></div></div>

<p>See <code class="highlighter-rouge">docker-compose --help</code> to see other available commands. You can also install <a href="/compose/completion/">command completion</a> for the bash and zsh shell, which also shows you available commands.</p>

<p>If you started Compose with <code class="highlighter-rouge">docker-compose up -d</code>, stop
your services once you’ve finished with them:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker-compose stop
</code></pre></div></div>

<p>You can bring everything down, removing the containers entirely, with the <code class="highlighter-rouge">down</code>
command. Pass <code class="highlighter-rouge">--volumes</code> to also remove the data volume used by the Redis
container:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker-compose down <span class="nt">--volumes</span>
</code></pre></div></div>

<p>At this point, you have seen the basics of how Compose works.</p>

<h2 id="where-to-go-next">Where to go next</h2>

<ul>
  <li>Next, try the <a href="/compose/samples-for-compose/">Sample apps with Compose</a></li>
  <li><a href="/compose/reference/">Explore the full list of Compose commands</a></li>
  <li><a href="/compose/compose-file/">Compose configuration file reference</a></li>
  <li>To learn more about volumes and bind mounts, see <a href="/storage/">Manage data in Docker</a></li>
</ul>
<span class="glyphicon glyphicon-tags" style="padding-right: 10px"></span><span style="vertical-align: 2px"><a href="/search/?q=documentation">documentation</a>, <a href="/search/?q=docs">docs</a>, <a href="/search/?q=docker">docker</a>, <a href="/search/?q=compose">compose</a>, <a href="/search/?q=orchestration">orchestration</a>, <a href="/search/?q=containers">containers</a></span><div class="ratings-div"><div id="pd_rating_holder_8453675"></div></div></section>
                    </main>
                    <nav class="col-nav">
                        <div id="sidebar-nav" class="sidebar hidden-sm hidden-xs">
                            <div id="navbar" class="nav-sidebar">
                                <ul class="nav hidden-md hidden-lg"></ul>
                                <ul class="nav" id="jsTOCLeftNav"></ul>
                            </div>
                        </div>
                    </nav>
                    <div class="col-toc">
                        <div class="sidebar hidden-xs hidden-sm">
                            <div class="toc-nav">
                                <div class="feedback-links">
                                    <ul><li><a href="https://github.com/docker/docker.github.io/edit/master/compose/gettingstarted.md"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> Edit this page</a></li><li><a href="https://github.com/docker/docker.github.io/issues/new?body=File: [compose/gettingstarted.md](https://docs.docker.com/compose/gettingstarted/)" class="nomunge"><i class="fa fa-check" aria-hidden="true"></i> Request docs changes</a></li>
                                        <li><div class="toggle-mode">
  <div class="icon">
      <i class="fa fa-sun-o" aria-hidden="true"></i>
  </div>
  <div class="toggle-switch">
      <label class="switch">
          <input type="checkbox" id="switch-style">
          <span class="slider round"></span>
      </label>
  </div>
  <div class="icon">
      <i class="fa fa-moon-o" aria-hidden="true"></i>
  </div>
</div>
</li>
                                    </ul>
                                </div><div id="side-toc-title">On this page:</div>
<ul id="my_toc" class="inline_toc">
  <li><a href="#prerequisites" class="nomunge">Prerequisites</a></li>
  <li><a href="#step-1-setup" class="nomunge">Step 1: Setup</a></li>
  <li><a href="#step-2-create-a-dockerfile" class="nomunge">Step 2: Create a Dockerfile</a></li>
  <li><a href="#step-3-define-services-in-a-compose-file" class="nomunge">Step 3: Define services in a Compose file</a>
    <ul>
      <li><a href="#web-service" class="nomunge">Web service</a></li>
      <li><a href="#redis-service" class="nomunge">Redis service</a></li>
    </ul>
  </li>
  <li><a href="#step-4-build-and-run-your-app-with-compose" class="nomunge">Step 4: Build and run your app with Compose</a></li>
  <li><a href="#step-5-edit-the-compose-file-to-add-a-bind-mount" class="nomunge">Step 5: Edit the Compose file to add a bind mount</a></li>
  <li><a href="#step-6-re-build-and-run-the-app-with-compose" class="nomunge">Step 6: Re-build and run the app with Compose</a></li>
  <li><a href="#step-7-update-the-application" class="nomunge">Step 7: Update the application</a></li>
  <li><a href="#step-8-experiment-with-some-other-commands" class="nomunge">Step 8: Experiment with some other commands</a></li>
  <li><a href="#where-to-go-next" class="nomunge">Where to go next</a></li>
</ul>

</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer class="footer">
          
    <div class="container">
        <div class="top_footer">
            <div class="row">
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/why-docker">Why Docker?</a></b></li>
                        <li><a href="https://www.docker.com/what-container">What is a Container?</a></li>
                        <li><a href="https://docker.events.cube365.net/dockercon/">DockerCon</a></li>
                        <li><b><a href="https://www.docker.com/products/overview">Products</a></b></li>
                        <li><a href="https://www.docker.com/products/docker-desktop">Docker Desktop</a></li>
                        <li><a href="https://www.docker.com/products/docker-hub">Docker Hub</a></li>
                        <li><a href="https://www.docker.com/roadmap">Docker Product Roadmap</a></li>
                        <li><b><a href="https://www.docker.com/products/docker-desktop">Features</a></b></li>
                        <li><a href="https://www.docker.com/products/container-runtime">Container Runtime</a></li>
                        <li><a href="https://www.docker.com/products/developer-tools">Developer Tools</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/products/docker-desktop">Developers</a></b></li>
                        <li><a href="https://www.docker.com/use-cases">Use Cases</a></li>
                        <li><a href="https://www.docker.com/docker-community">Community</a></li>
                        <li><a href="https://www.docker.com/open-source">Open Source</a></li>
                        <li><a href="https://www.docker.com/community/docker-captains">Docker Captains</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/products/docker-desktop">Pricing</a></b></li>
                        <li><a href="https://www.docker.com/pricing/faq">FAQs</a></li>
                        <li><a href="https://www.docker.com/partners/programs">Docker Verified Publisher Program</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/company" target="_blank" rel="noopener">Company</a></b></li>
                        <li><a href="https://www.docker.com/company">About Us</a></li>
                        <li><a href="https://www.docker.com/blog/" target="_blank" rel="noopener">Blog</a></li>
                        <li><a href="https://www.docker.com/customers">Customers</a></li>
                        <li><a href="https://www.docker.com/partners">Partners</a></li>
                        <li><a href="https://www.docker.com/company/newsroom">Newsroom</a></li>
                        <li><a href="https://www.docker.com/careers">Careers</a></li>
                        <li><a href="https://www.docker.com/company/contact">Contact Us</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-nav">
                <nav class="footer_sub_nav">
                    <ul class="menu">
                        <li><a href="http://status.docker.com/">Status</a></li>
                        <li><a href="https://www.docker.com/legal">Legal</a></li>
                        <li><a href="https://www.docker.com/company/contact">Contact</a></li>
                    </ul>
                </nav>
            </div>
        </div>
        <div class="bottom_footer">
            <div class="footer-copyright col-xs-12 col-md-8">
                <p class="copyright">
                    Copyright &copy; 2013-2021 Docker Inc. All rights reserved. </p>
            </div>
            <div class="footer_social_nav">
                <ul class="nav-social">
                    <li class="fa fa-twitter"><a href="http://twitter.com/docker">Twitter</a></li>
                    <li class="fa fa-youtube"><a href="http://www.youtube.com/user/dockerrun">Youtube</a></li>
                    <li class="fa fa-github"><a href="https://github.com/docker">GitHub</a></li>
                    <li class="fa fa-linkedin"><a href="https://www.linkedin.com/company/docker">Linkedin</a></li>
                    <li class="fa fa-facebook"><a href="https://www.facebook.com/docker.run">Facebook</a></li>
                    <li class="fa fa-slideshare"><a href="https://www.slideshare.net/docker">Slideshare</a></li>
                    <li class="fa fa-reddit"><a href="https://www.reddit.com/r/docker">Reddit</a></li>
                </ul>
            </div>
        </div>
    </div>

    </footer>
    <script>const pageURL = "/compose/gettingstarted/";</script><script>
    let PDRTJS_settings_8453675 = {
        "id": "8453675",
        "unique_id": "compose/gettingstarted.md",
        "title": "Get started with Docker Compose",
        "font_family": "Open Sans, sans serif",
        "font_color": "b9c2cc",
        "font_align": "center",
        "permalink": "https://github.com/docker/docker.github.io/blob/master/compose/gettingstarted.md"
    };
    (function (d, c, j) {
        if (!document.getElementById(j)) {
            let pd=d.createElement(c),s;pd.id=j;pd.src='https://polldaddy.com/js/rating/rating.js';s=document.getElementsByTagName(c)[0];s.parentNode.insertBefore(pd, s);
        }
    }(document, 'script', 'pd-rating-js'));
</script></body>
</html>
