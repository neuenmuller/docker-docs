<!-- Page generated 2021-11-17 12:16:07 +0000-->
<!DOCTYPE html>
<html lang="en"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-WL2QLG5');</script>
<title>ACI integration container features | Docker Documentation</title>
  <meta name="description" content="Reference list of container ACI features" />
  <meta name="keywords" content="Docker, Azure, Integration, ACI, container, cli, deploy, cloud">
  <link rel="canonical" href="https://docs.docker.com/cloud/aci-container-features/" />

  <!-- favicon -->
  <link rel="icon" type="image/x-icon" href="/favicons/docs@2x.ico" sizes="129x128">
  <link rel="apple-touch-icon" type="image/x-icon" href="/favicons/docs@2x.ico" sizes="129x128">
  <meta name="msapplication-TileImage" content="/favicons/docs@2x.ico">
  <meta property="og:image" content="/favicons/docs@2x.ico"/>
  <meta name="theme-color" content="#2496ed" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- hide elements that are only shown without JavaScript enabled -->
  <script>document.documentElement.classList.add('js')</script>
  <style>html.js .no-js { display: none !important; }</style><script defer src="/js/theme-switcher.js"></script>
  <script defer src="/js/anchorlinks.js"></script>
  <script defer src="/js/jquery.js"></script>
  <script defer src="/js/bootstrap.min.js"></script>
  <script defer src="/js/docs.js"></script><script defer src="/js/search.js"></script><link rel="preload" as="font" href="https://fonts.gstatic.com/s/opensans/v18/mem8YaGs126MiZpBA-UFVZ0bf8pkAg.woff2" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/fonts/geomanist/hinted-Geomanist-Book.woff2"    type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/fonts/geomanist/hinted-Geomanist-Regular.woff2" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/fonts/glyphicons-halflings-regular.woff2"       type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/fonts/fontawesome-webfont.woff2?v=4.7.0"        type="font/woff2" crossorigin="anonymous">

  <link rel="stylesheet" href="/css/font-awesome.min.css">
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/style.css" id="pagestyle">

  <!-- SEO stuff -->
  <meta name="twitter:title" itemprop="title name" content="ACI integration container features"/>
  <meta name="twitter:description" property="og:description" itemprop="description" content="" />
  <meta name="twitter:card" content="summary_large_image"/>
  <meta name="twitter:domain" content="docs.docker.com"/>
  <meta name="twitter:site" content="@docker_docs"/>
  <meta name="twitter:url" content="https://twitter.com/docker_docs"/>
  <meta name="twitter:image:src" content="https://docs.docker.com/images/docs@2x.png"/>
  <meta name="twitter:image:alt" content="Docker Documentation"/>
  <meta property="og:title" content="ACI integration container features" />
  <meta property="og:description" content="Reference list of container ACI features" />
  <meta property="og:type" content="website"/>
  <meta property="og:updated_time" itemprop="dateUpdated" content="2021-11-17T12:16:07+00:00"/>
  <meta property="og:image" itemprop="image primaryImageOfPage" content="https://docs.docker.com/images/docs@2x.png"/>
  <meta property="og:locale" content="en_US" />
  <meta property="og:url" content="https://docs.docker.com/cloud/aci-container-features/" />
  <meta property="og:site_name" content="Docker Documentation" />
  <meta property="article:published_time" itemprop="datePublished" content="2021-11-17T12:16:07+00:00"/>
  <script type="application/ld+json">{"@context":"http://schema.org","@type":"WebPage","headline":"ACI integration container features","description":"Reference list of container ACI features","url":"https://docs.docker.com/cloud/aci-container-features/"}</script>
  <!-- END SEO STUFF -->
</head>
<body class="colums">
    <header>
        <nav class="nav-secondary navbar navbar-fixed-top">
    <div class="container-fluid">
        <div class="navbar-header">
            <a href="/">
                <img class="logo" src="/images/docker-docs-logo.svg" alt="Docker Docs" title="Docker Docs" width="160" height="28" />
            </a>
        </div>
        <div class="navbar-collapse" aria-expanded="false" style="height: 1px;">
            <div class="logo-mobile">
    <a href="/">
        <img src="/images/docker-icon.svg" alt="Docker Docs" title="Docker Docs" width="30" height="30" />
    </a>
</div>
<div class="search-form" id="search-div">
    <form class="search-form form-inline" id="searchForm" action="/search/" method="get">
        <label for="st-search-input" class="sr-only">Search</label>
        <input class="search-field form-control ds-input" id="st-search-input" name="q" placeholder="Search the docs" type="search" autocomplete="off" spellcheck="false" dir="auto" style="position: relative; vertical-align: top;">
        <div id="autocompleteResults"></div>
        <!-- <button type="submit" class="search-submit btn btn-default">Search</button> -->
    </form>
</div>
<div class="sidebar-toggle">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
    </button>
</div>
<div class="nav-container hidden-sm hidden-xs">
    <div>
        <ul class="nav navbar-nav"><li><a href="/" id="home">Home</a></li><li><a href="/get-started/overview/" id="guides">Guides</a></li><li><a href="/desktop/" id="manuals">Manuals</a></li><li><a href="/reference/" id="reference">Reference</a></li><li><a href="/samples/" id="samples">Samples</a></li></ul>
    </div>
    <div class="ctrl-right">
        <a href="javascript:void(0)" id="menu-toggle" aria-label="Current page's menu toggle"><i class="fa fa-indent" aria-hidden="true"></i></a>
    </div>
</div>
<div class="row hidden-sm hidden-xs">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li><a href="/" title="Docker docs homepage"><i class="fa fa-home"></i></a></li>
            <li><a href="/get-started/overview/">Guides</a></li><li><a href="/cloud/aci-integration/">Deploy your app to the cloud</a></li><li><a href="/cloud/aci-container-features/">ACI container features</a></li></ol>
    </nav>
</div></div>
    </div>
</nav>

    </header>
    <div class="wrapper right-open">
        <div class="container-fluid">
            <div class="row">
                <div class="col-body">
                    <main class="col-content content">
                        <section class="section"><h1>ACI integration container features</h1><p><em class="reading-time">Estimated reading time: 4 minutes</em></p><h1 id="azure-container-instances-running-single-containers">Azure Container Instances: running single containers</h1>

<p>Single containers can be executed on ACI with the <code class="highlighter-rouge">docker run</code> command.
A single container is executed in its own ACI container group, that will container only one container.</p>

<p>Containers can be listed with the <code class="highlighter-rouge">docker ps</code> command, and stopped and removed with <code class="highlighter-rouge">docker stop &lt;CONTAINER&gt;</code> and <code class="highlighter-rouge">docker rm &lt;CONTAINER&gt;</code>.</p>

<h1 id="docker-run-options-for-aci-containers">Docker run options for ACI containers</h1>

<p>The table below lists supported <code class="highlighter-rouge">docker run</code> flags and their ACI counterparts.</p>

<p><strong>Legend:</strong></p>

<ul>
  <li><strong>✓:</strong> Implemented</li>
  <li><strong>n:</strong> Not yet implemented</li>
  <li><strong>x:</strong> Not applicable / no available conversion</li>
</ul>

<table>
  <thead>
    <tr>
      <th>Flag</th>
      <th>Map</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>--cpus</td>
      <td>✓</td>
      <td>See <a href="#container-resources">Container Resources</a>.</td>
    </tr>
    <tr>
      <td>-d, --detach</td>
      <td>✓</td>
      <td>Detach from container logs when container starts. By default, the command line stays attached and follow container logs.</td>
    </tr>
    <tr>
      <td>--domainname</td>
      <td>✓</td>
      <td>See <a href="#exposing-ports">Exposing ports</a>.</td>
    </tr>
    <tr>
      <td>--e, --env</td>
      <td>✓</td>
      <td>Sets environment variable.</td>
    </tr>
    <tr>
      <td>--env-file</td>
      <td>✓</td>
      <td>Sets environment variable from and external file.</td>
    </tr>
    <tr>
      <td>--health-cmd</td>
      <td>✓</td>
      <td>Specify healthcheck command. See <a href="#healthchecks">Healthchecks</a>.</td>
    </tr>
    <tr>
      <td>--health-interval</td>
      <td>✓</td>
      <td>Specify healthcheck interval</td>
    </tr>
    <tr>
      <td>--health-retries</td>
      <td>✓</td>
      <td>Specify healthcheck number of retries</td>
    </tr>
    <tr>
      <td>--health-start-period</td>
      <td>✓</td>
      <td>Specify healthcheck initial delay</td>
    </tr>
    <tr>
      <td>--health-timeout</td>
      <td>✓</td>
      <td>Specify healthcheck timeout</td>
    </tr>
    <tr>
      <td>-l, --label</td>
      <td>x</td>
      <td>Unsupported in Docker ACI integration, due to limitations of ACI Tags.</td>
    </tr>
    <tr>
      <td>-m, --memory</td>
      <td>✓</td>
      <td>See <a href="#container-resources">Container Resources</a>.</td>
    </tr>
    <tr>
      <td>--name</td>
      <td>✓</td>
      <td>Provide a name for the container. Name must be unique withing the ACI resource group. a name is generated by default.</td>
    </tr>
    <tr>
      <td>-p, --publish</td>
      <td>✓</td>
      <td>See <a href="#exposing-ports">Exposing ports</a>. Only symetrical port mapping is supported in ACI.</td>
    </tr>
    <tr>
      <td>--restart</td>
      <td>✓</td>
      <td>Restart policy, must be one of: <code class="highlighter-rouge">always</code>, <code class="highlighter-rouge">no</code>, <code class="highlighter-rouge">on-failure</code>.</td>
    </tr>
    <tr>
      <td>--rm</td>
      <td>x</td>
      <td>Not supported as <a href="https://feedback.azure.com/forums/602224-azure-container-instances/suggestions/34066633-support-auto-delete-of-aci-when-container-exits-no">ACI does not support auto-delete containers</a>.</td>
    </tr>
    <tr>
      <td>-v, --volume</td>
      <td>✓</td>
      <td>See <a href="#persistent-volumes">Persistent Volumes</a>.</td>
    </tr>
  </tbody>
</table>

<h2 id="exposing-ports">Exposing ports</h2>

<p>You can expose one or more ports of a container with <code class="highlighter-rouge">docker run -p &lt;PORT&gt;:&lt;PORT&gt;</code>
If ports are exposed when running a container, the corresponding ACI container group will be exposed with a public IP allocated and the required port(s) accessible.</p>
<blockquote>
  <p>Note: <a href="https://feedback.azure.com/forums/602224-azure-container-instances/suggestions/34082284-support-for-port-mapping">ACI does not support port mapping</a>, so the same port number must be specified when using <code class="highlighter-rouge">-p &lt;PORT&gt;:&lt;PORT&gt;</code>.</p>
</blockquote>

<p>When exposing ports, a container can also specify the service <code class="highlighter-rouge">--domainname</code> flag to set a DNS hostname. <code class="highlighter-rouge">domainname</code> will be used to specify the ACI DNS Label Name, and the ACI container group will be reachable at <code class="highlighter-rouge">&lt;DOMAINNANE&gt;.&lt;REGION&gt;.azurecontainer.io</code>.
<code class="highlighter-rouge">domainname</code> must be unique globally in   <REGION>.azurecontainer.io</REGION>
</p>

<h2 id="persistent-volumes">Persistent volumes</h2>

<p>Docker volumes are mapped to Azure File shares, each file share is part of an Azure Storage Account.
One or more volumes can be specified with <code class="highlighter-rouge">docker run -v &lt;STORAGE-ACCOUNT&gt;/&lt;FILESHARE&gt;:&lt;TARGET-PATH&gt;</code>.</p>

<p>A run command can use the <code class="highlighter-rouge">--volume</code> or <code class="highlighter-rouge">-v</code> flag several times for different volumes. The volumes can use the same or different storage accounts. The target paths for different volume mounts must be different and not overlap.
There is no support for mounting a single file, or mounting a subfolder from an Azure File Share.</p>

<p>Credentials for storage accounts will be automatically fetched at deployment time using the Azure login to retrieve the storage account key for each storage account used.</p>

<h2 id="container-resources">Container Resources</h2>

<p>CPU and memory reservations can be set when running containers with <code class="highlighter-rouge">docker run --cpus 1.5 --memory 2G</code>.</p>

<p>It is not possible to set resource limits that differ from resource reservation on single containers.
ACI allows setting resource limits for containers in a container group but these limits must stay within the reserved resources for the entire group. In the case of a single container deployed in a container group, the resource limits must be equal to the resource reservation.</p>

<h2 id="logs">Logs</h2>

<p>You can view container logs with the command <code class="highlighter-rouge">docker logs &lt;CONTAINER-ID&gt;</code>.</p>

<p>You can follow logs with the <code class="highlighter-rouge">--follow</code> (<code class="highlighter-rouge">-f</code>) option.
When running a container with <code class="highlighter-rouge">docker run</code>, by default the command line stays attached to container logs when the container starts. Use <code class="highlighter-rouge">docker run --detach</code> to not follow logs once the container starts.</p>
<blockquote>
  <p>Note: Following ACI logs may have display issues especially when resizing a terminal that is following container logs. This is due to ACI providing raw log pulling but no streaming of logs. Logs are effectively pulled every 2 seconds when following logs.</p>
</blockquote>

<h2 id="healthchecks">Healthchecks</h2>

<p>A health check can be described using the flags prefixed by <code class="highlighter-rouge">--health-</code>. This is translated into <code class="highlighter-rouge">LivenessProbe</code> for ACI. If the health check fails then the container is considered unhealthy and terminated.
In order for the container to be restarted automatically, the container needs to be run with a restart policy (set by the <code class="highlighter-rouge">--restart</code> flag) other than <code class="highlighter-rouge">no</code>. Note that the default restart policy if one isn’t set is <code class="highlighter-rouge">no</code>.</p>

<p>In order to restart automatically, the container also need to have a restart policy set with <code class="highlighter-rouge">--restart</code> (<code class="highlighter-rouge">docker run</code> defaults to no restart policy)</p>
<span class="glyphicon glyphicon-tags" style="padding-right: 10px"></span><span style="vertical-align: 2px"><a href="/search/?q=Docker">Docker</a>, <a href="/search/?q=Azure">Azure</a>, <a href="/search/?q=Integration">Integration</a>, <a href="/search/?q=ACI">ACI</a>, <a href="/search/?q=container">container</a>, <a href="/search/?q=cli">cli</a>, <a href="/search/?q=deploy">deploy</a>, <a href="/search/?q=cloud">cloud</a></span><div class="ratings-div"><div id="pd_rating_holder_8453675"></div></div></section>
                    </main>
                    <nav class="col-nav">
                        <div id="sidebar-nav" class="sidebar hidden-sm hidden-xs">
                            <div id="navbar" class="nav-sidebar">
                                <ul class="nav hidden-md hidden-lg"></ul>
                                <ul class="nav" id="jsTOCLeftNav"></ul>
                            </div>
                        </div>
                    </nav>
                    <div class="col-toc">
                        <div class="sidebar hidden-xs hidden-sm">
                            <div class="toc-nav">
                                <div class="feedback-links">
                                    <ul><li><a href="https://github.com/docker/docker.github.io/edit/master/cloud/aci-container-features.md"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> Edit this page</a></li><li><a href="https://github.com/docker/docker.github.io/issues/new?body=File: [cloud/aci-container-features.md](https://docs.docker.com/cloud/aci-container-features/)" class="nomunge"><i class="fa fa-check" aria-hidden="true"></i> Request docs changes</a></li>
                                        <li><div class="toggle-mode">
  <div class="icon">
      <i class="fa fa-sun-o" aria-hidden="true"></i>
  </div>
  <div class="toggle-switch">
      <label class="switch">
          <input type="checkbox" id="switch-style">
          <span class="slider round"></span>
      </label>
  </div>
  <div class="icon">
      <i class="fa fa-moon-o" aria-hidden="true"></i>
  </div>
</div>
</li>
                                    </ul>
                                </div><div id="side-toc-title">On this page:</div>
<ul id="my_toc" class="inline_toc">
  <li><a href="#exposing-ports" class="nomunge">Exposing ports</a></li>
  <li><a href="#persistent-volumes" class="nomunge">Persistent volumes</a></li>
  <li><a href="#container-resources" class="nomunge">Container Resources</a></li>
  <li><a href="#logs" class="nomunge">Logs</a></li>
  <li><a href="#healthchecks" class="nomunge">Healthchecks</a></li>
</ul>

</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer class="footer">
          
    <div class="container">
        <div class="top_footer">
            <div class="row">
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/why-docker">Why Docker?</a></b></li>
                        <li><a href="https://www.docker.com/what-container">What is a Container?</a></li>
                        <li><a href="https://docker.events.cube365.net/dockercon/">DockerCon</a></li>
                        <li><b><a href="https://www.docker.com/products/overview">Products</a></b></li>
                        <li><a href="https://www.docker.com/products/docker-desktop">Docker Desktop</a></li>
                        <li><a href="https://www.docker.com/products/docker-hub">Docker Hub</a></li>
                        <li><a href="https://www.docker.com/roadmap">Docker Product Roadmap</a></li>
                        <li><b><a href="https://www.docker.com/products/docker-desktop">Features</a></b></li>
                        <li><a href="https://www.docker.com/products/container-runtime">Container Runtime</a></li>
                        <li><a href="https://www.docker.com/products/developer-tools">Developer Tools</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/products/docker-desktop">Developers</a></b></li>
                        <li><a href="https://www.docker.com/use-cases">Use Cases</a></li>
                        <li><a href="https://www.docker.com/docker-community">Community</a></li>
                        <li><a href="https://www.docker.com/open-source">Open Source</a></li>
                        <li><a href="https://www.docker.com/community/docker-captains">Docker Captains</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/products/docker-desktop">Pricing</a></b></li>
                        <li><a href="https://www.docker.com/pricing/faq">FAQs</a></li>
                        <li><a href="https://www.docker.com/partners/programs">Docker Verified Publisher Program</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/company" target="_blank" rel="noopener">Company</a></b></li>
                        <li><a href="https://www.docker.com/company">About Us</a></li>
                        <li><a href="https://www.docker.com/blog/" target="_blank" rel="noopener">Blog</a></li>
                        <li><a href="https://www.docker.com/customers">Customers</a></li>
                        <li><a href="https://www.docker.com/partners">Partners</a></li>
                        <li><a href="https://www.docker.com/company/newsroom">Newsroom</a></li>
                        <li><a href="https://www.docker.com/careers">Careers</a></li>
                        <li><a href="https://www.docker.com/company/contact">Contact Us</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-nav">
                <nav class="footer_sub_nav">
                    <ul class="menu">
                        <li><a href="http://status.docker.com/">Status</a></li>
                        <li><a href="https://www.docker.com/legal">Legal</a></li>
                        <li><a href="https://www.docker.com/company/contact">Contact</a></li>
                    </ul>
                </nav>
            </div>
        </div>
        <div class="bottom_footer">
            <div class="footer-copyright col-xs-12 col-md-8">
                <p class="copyright">
                    Copyright &copy; 2013-2021 Docker Inc. All rights reserved. </p>
            </div>
            <div class="footer_social_nav">
                <ul class="nav-social">
                    <li class="fa fa-twitter"><a href="http://twitter.com/docker">Twitter</a></li>
                    <li class="fa fa-youtube"><a href="http://www.youtube.com/user/dockerrun">Youtube</a></li>
                    <li class="fa fa-github"><a href="https://github.com/docker">GitHub</a></li>
                    <li class="fa fa-linkedin"><a href="https://www.linkedin.com/company/docker">Linkedin</a></li>
                    <li class="fa fa-facebook"><a href="https://www.facebook.com/docker.run">Facebook</a></li>
                    <li class="fa fa-slideshare"><a href="https://www.slideshare.net/docker">Slideshare</a></li>
                    <li class="fa fa-reddit"><a href="https://www.reddit.com/r/docker">Reddit</a></li>
                </ul>
            </div>
        </div>
    </div>

    </footer>
    <script>const pageURL = "/cloud/aci-container-features/";</script><script>
    let PDRTJS_settings_8453675 = {
        "id": "8453675",
        "unique_id": "cloud/aci-container-features.md",
        "title": "ACI integration container features",
        "font_family": "Open Sans, sans serif",
        "font_color": "b9c2cc",
        "font_align": "center",
        "permalink": "https://github.com/docker/docker.github.io/blob/master/cloud/aci-container-features.md"
    };
    (function (d, c, j) {
        if (!document.getElementById(j)) {
            let pd=d.createElement(c),s;pd.id=j;pd.src='https://polldaddy.com/js/rating/rating.js';s=document.getElementsByTagName(c)[0];s.parentNode.insertBefore(pd, s);
        }
    }(document, 'script', 'pd-rating-js'));
</script></body>
</html>
